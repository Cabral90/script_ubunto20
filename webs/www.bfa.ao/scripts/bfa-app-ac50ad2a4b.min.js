/**
 * BFA
 * @Web http://bycom.pt/
 * @Author BY - byinfo@bycom.pt
 * Updated on: 20200825-154159
 */
var app={mobileWidth:"768",loadedFonts:0,loadedImages:0,lang:$("body").data("lang"),host:window.location.hostname,browser:!1,navigator:"",SIZE:{wW:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,wH:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,mobileXSW:450,mobileW:768,tabletW:992,desktopW:1200},URI:{LIVE:{URI:"/api/exchangerates/",EXCHANGEB:"get/B",EXCHANGEN:"get/N",LIST:"getByDate/"}},DATA:{},COOKIES_NAMES:{ACCEPT:"acceptCookie"},exists:function(e){return $(e).length>0},isMobile:function(){return app.SIZE.wW<=app.mobileWidth},init:function(){$doc=$(document),$html=$doc.find("html"),$body=$doc.find("body");var e=$body.data("page-type").toLowerCase();$(window).resize(function(){app.SIZE.wW=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,app.SIZE.wH=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}),app.components.init(),app.header.init(),"detail"===e?app.pageDetail.init():"storelocation"===e?(app.pageStoreLocation.init(),app.moduleForms.init()):"list"===e&&app.pageList.init(),$body.find('[data-action="openForm"]').length&&app.moduleForms.init(),$body.find(".js-slider").length&&app.moduleSliders.init(),$body.find('[data-module="simulator"]').length&&app.moduleSimulator.init(),$body.find('[data-action="openMedia"]').length&&app.moduleMedia.init(),($body.find(".js-exchangeTaxes").length||$body.find(".js-exchangeTable").length)&&app.moduleExchange.init()}};!function(e){"use strict";e(document).ready(function(){app.init()})}(jQuery),app.components={TIMERS:"",DATA:"",AJAX:"",init:function(){var e=app.components;e.setupLayout(),e.setupEvents(),e.search.init(),e.googleEvents.setup()},setupEvents:function(){$(window).on("resize",app.components.setupLayout),$body.on("click",'[data-action="js-iwant"]',app.moduleiWant.open).on("click",'[data-action="toggleSiteMap"]',app.components.footer.toggle).on("click",'[data-action="goDown"]',app.components.goBottom).on("click",'[data-action="sectionToClick"]',app.components.sectionToClick.click).on("click",'[data-action="sectionToClick"] .btn',app.components.sectionToClick.prevent).on("click",".js-close-modOverlay",app.components.modOverlayOut).on("click",".js-toggleFaq",app.components.toggleFaq)},setupLayout:function(){var e=app.components;e.openAccount(),e.publications(),e.highlight(),e.setDataDevice(),e.footer.reset()},googleEvents:{setup:function(){app.components.googleEvents.event()},event:function(){$body.on("click",'.umbraco-forms-navigation button[data-action="submit"]',app.components.googleEvents.types.forms).on("click",".js-footer a.btn",app.components.googleEvents.types.footerCall).on("click","a",app.components.googleEvents.types.clickA).on("click",".section-call a",app.components.googleEvents.types.preFooterClick)},click:function(e){var t=$(this);0===t.closest("form").length&&app.components.googleEvents.push(t)},push:function(e){app.helpers.isEmpty(e.event)||dataLayer.push(e)},types:{simulator:function(e,t){var a=e.find(".js-currency-label:eq(1)").text(),n=e.find(".js-input-valueRequest"),i=e.find(".js-input-periods"),o=e.find(".js-input-valueMonthly"),s={event:"change"===t?"interacSimulator":"printSimulator",interacType:e.data("type"),interacAmmount:n.val()+" "+a,interacTerm:i.val()+" MESES",interacPayment:o.val()+" "+a};app.components.googleEvents.push(s)},forms:function(){var e=$(this).closest("form"),t=e.find('[data-gtm-event="formContext"]').val(),a={event:"formInteraction",formContext:void 0!==t?t:"",clickType:"sending"};app.components.googleEvents.push(a)},formError:function(e){var t=e.find(".input-validation-error");if(t.length){var a="",n=e.find('[data-gtm-event="formContext"]').val();t.each(function(){a+=$(this).siblings("label").text().replace("*","")+", "}),a=a.substring(0,a.length-2);var i={event:"formInteraction",formContext:void 0!==n?n:"",clickType:"error",clickError:a};app.components.googleEvents.push(i)}},openForm:function(e){var t=e.find('[data-gtm-event="formContext"]').val(),a={event:"formInteraction",formContext:void 0!==t?t:"",clickType:"open"};app.components.googleEvents.push(a)},formSuccess:function(e){var t=e.find('[data-gtm-event="subject"]').val(),a=e.find('[data-gtm-event="customer"]').val(),n=e.find('[data-gtm-event="formContext"]').val(),i={event:"formInteraction",formContext:void 0!==n?n:"",clickType:"sent",clickSubject:t,clickClient:a};app.components.googleEvents.push(i)},altMenu:function(e){var t={event:"altMenu",clickName:e.find(".js-text").text()};app.components.googleEvents.push(t)},locatorSearch:function(e){var t="";e.find(".js-input:checked").each(function(){t+=$(this).val()+", "}),t=t.substring(0,t.length-2);var a={event:"brunchLocatorSearch",clickLocal:e.find(".js-select").text(),clickType:t};app.components.googleEvents.push(a)},locationPin:function(e){var t={event:"brunchLocatorMarker",clickName:e.name};app.components.googleEvents.push(t)},locationOptions:function(){var e=$(this),t=e.closest(".item-map"),a="";e.hasClass("js-call")?a="Telefone":e.hasClass("js-appoitment")?a="Marcar reunião":e.hasClass("js-urlDirection")&&(a="Obter direcções");var n={event:"brunchLocatorCTA",clickName:t.find(".js-name").text(),clickCTA:a};app.components.googleEvents.push(n)},footerCall:function(){var e={event:"footerCTA",clickName:"Agende uma reunião"};app.components.googleEvents.push(e)},clickA:function(){var e=$(this),t=e.attr("href");if(!app.helpers.isEmpty(t)){var a=t.split("."),n=a[a.length-1];if("pdf"===n||"mp3"===n||"mp4"===n||"pptx"===n){var i={event:"footerCTA",clickType:"Agende uma reunião",clickName:t};app.components.googleEvents.push(i)}}},preFooterClick:function(){var e=$(this),t=e.find(".text").text(),a={event:"footerCTA",clickName:t};app.components.googleEvents.push(a)}}},search:{timeLine:void 0,init:function(){var e=app.components.search;e.setupEvents()},setupEvents:function(){var e=app.components.search;$body.on("click",'[data-action="doSearch"]',e.btnSearch).on("keyup",".js-searchWrapper .js-input",e.checkKey).on("click",'[data-action="toggleSearch"]',e.open.init)},btnSearch:function(e){var t=app.components.search,a=$(this),n=a.closest(".js-searchWrapper"),i=n.find(".js-input"),o=a.data("search-url"),s=i.val();""!==o&&""!==s?t.doSearch(o,s):app.components.search.close($(".js-searchWrapper.is-open .js-toggleSearch"))},checkKey:function(e){var t=app.components.search,a=$(this),n=a.closest(".js-searchWrapper"),i=e.which;if(13===i){var o=n.find(".js-doSearch"),s=o.data("search-url"),l=n.find(".js-input"),d=l.val();""!==s&&""!==d&&t.doSearch(s,d)}},doSearch:function(e,t){window.location=e+t},close:function(e){var t=app.components.search;$body.hasClass("search-is-open")&&$(e.target).closest(".js-searchWrapper.is-open").length<=0&&(t.timeLine.reverse(),t.timeLine=void 0,$body.removeClass("search-is-open"),$body.off("click.search-is-open"))},open:{init:function(){var e=app.components.search,t=(app.isMobile(),"desktop");e.open[t]($(this))},mobile:function(){},desktop:function(e){var t=app.components.search;t.timeLine=new TimelineLite({paused:!0}),$body.on("click.search-is-open",t.close),$body.hasClass("search-is-open")&&t.timeLine.reverse();var a=e.closest(".js-desktop-navigation"),n=e.closest(".js-searchWrapper"),i=n.find(".js-search"),o=n.find(".js-toggleSearch"),s=o.find(".js-text");t.timeLine.add(function(){a.length&&a.find(".js-nav").toggleClass("search-is-open")}).set(n,{className:"+=is-open"}).set(i,{className:"+=is-active"}).to(i,.4,{opacity:1}).to(s,.4,{opacity:0},"-=0-2").to(i,.4,{width:220}).set(i,{className:"+=is-open"}).set($body,{className:"+=search-is-open"}).add(function(){i.find(".js-input").focus()}),t.timeLine.play()}}},mobile:{search:{setup:function(){var e=app.components;e.mobile.search.setupEvents(),e.mobile.search.setupTimeline()},setupEvents:function(){var e=app.components,t=e.ELS;$body.on("click",t.mobile.ctnNav+' [data-action="toggleSearch"]',e.mobile.search.open).on("click.searchMobile-is-open",app.components.mobile.search.close).on("keyup",t.mobile.ctnNav+" .js-input",e.mobile.search.checkKey).on("click",t.mobile.ctnNav+' [data-action="doSearch"]',e.mobile.search.btnSearch)},setupTimeline:function(){tlSearchMobile=new TimelineLite({paused:!0});var e=app.components,t=e.ELS,a=$body.find(t.mobile.ctnNav),n=a.find(".js-search"),i=a.find(".js-toggleSearch"),o=i.find(".js-text");tlSearchMobile.set(n,{className:"+=is-active"}).to(n,.4,{opacity:1}).to(o,.4,{opacity:0},"-=0-2").to(n,.4,{width:220}).set(n,{className:"+=is-open"}).set($body,{className:"+=searchMobile-is-open"}).add(function(){n.find(".js-label").trigger("click")})},btnSearch:function(e){var t=app.components,a=$(this),n=a.data("search-url"),i=e.length?$(e):a.siblings(".js-input"),o=i.val();o.length>0&&t.mobile.search.doSearch(n,o)},checkKey:function(e){var t=app.components,a=$(this),n=e.which;if(13===n){var i=a.siblings(".js-doSearch"),o=i.data("search-url"),s=a.val();s.length>0&&t.mobile.search.doSearch(o,s)}},doSearch:function(e,t){window.location=e+t},open:function(){tlSearchMobile.play()},close:function(e){$(e.target).closest(".js-searchWrapper").length<=0&&tlSearchMobile.reverse()}}},openAccount:function(){var e=$body.find(".js-openAccount");app.SIZE.wW<app.SIZE.tabletW?e.each(function(){var e=$(this).find(".js-image"),t=$(this).find(".js-btn-container");t.insertAfter(e),t.addClass("is-finished")}):e.each(function(){var e=$(this).find(".js-texts"),t=$(this).find(".js-btn-container");t.appendTo(e),t.addClass("is-finished")})},highlight:function(){var e=$body.find(".js-highlight");app.SIZE.wW<app.SIZE.tabletW?e.each(function(){var e=$(this),t=e.find(".js-image"),a=e.find(".js-btn-container");if(a.insertAfter(t),a.addClass("is-finished"),e.data("mobilechange")||"true"===e.data("mobilechange")){var n=e.find(".js-texts");t.after(n)}}):e.each(function(){var e=$(this),t=e.find(".js-texts"),a=e.find(".js-btn-container");if(a.appendTo(t),a.addClass("is-finished"),e.data("mobilechange")||"true"===e.data("mobilechange")){var n=e.find(".js-image");n.before(t)}})},publications:function(){var e=$body.find(".js-publications");app.SIZE.wW<app.SIZE.desktopW?e.each(function(){var e=$(this).find(".js-content"),t=$(this).find(".js-btn-container");t.appendTo(e),t.addClass("is-finished")}):e.each(function(){var e=$(this).find(".js-texts"),t=$(this).find(".js-btn-container");t.appendTo(e),t.addClass("is-finished")})},setDataDevice:function(){$body.attr("data-devicebefore",$body.attr("data-device")),app.SIZE.wW>=app.SIZE.desktopW?$body.attr("data-device","desktop"):app.SIZE.wW>app.SIZE.tabletW?$body.attr("data-device","tablet"):$body.attr("data-device","mobile")},isDataMobile:function(){return"mobile"===$body.data("device")},scrollInfo:{save:function(){$html.data("scrollTop",$(window).scrollTop())},go:function(){$(window).scrollTop($html.data("scrollTop")),$html.data("scrollTop",0)}},footer:{toggle:function(){var e=app.header.ELS,t=$body.find(e.mobile.ctnNav),a=$body.find(".js-footer"),n=a.find(".js-footerSiteMap"),i=n.find(".js-toggleSiteMap"),o=i.find(".js-text"),s=n.find(".js-ctnSiteMap"),l=s.find(".js-siteMap"),d=a.find(".js-footerBottom");if(a.hasClass("is-open"))TweenLite.to(l,.2,{opacity:0}),TweenLite.to(s,.5,{height:0,delay:.2}),TweenLite.to(o,.2,{opacity:0,onComplete:function(){o.html(i.data("textopen"))}}),TweenLite.to(o,.2,{opacity:1,delay:.3}),a.removeClass("is-open");else{var r=l.outerHeight(!0),p=a.outerHeight(!0),c=r,u=d.outerHeight(!0);if("desktop"===$body.data("device"))c=p>r+u?p:r+u;else{var f=$body.find(".js-stickyTitle.is-sticky"),m=t.outerHeight(!0);f.length&&(m+=f.outerHeight(!0)),$("body, html").animate({scrollTop:a.offset().top-m},500)}TweenLite.to(s,.5,{height:c}),TweenLite.to(l,.3,{opacity:1,delay:.3}),TweenLite.to(o,.2,{opacity:0,onComplete:function(){o.html(i.data("textclose"))}}),TweenLite.to(o,.2,{opacity:1,delay:.3}),a.addClass("is-open")}},reset:function(){var e=app.components,t=$body.find(".js-footer");t.hasClass("is-open")&&e.footer.toggle()}},feedbackButtons:{start:function(e){var t="<i class='icon icon-loading icon-loader js-iconLoading'></i>";e.find(".icon").length?(e.find(".icon").css("display","none"),e.addClass("is-loading js-btn-state").prop("disabled",!0),e.find(".icon").after(t)):e.append(t).addClass("is-loading js-btn-state").prop("disabled",!0)},end:function(){var e=$body.find(".js-btn-state.is-loading");e.find(".js-iconLoading").remove(),e.removeClass("is-loading js-btn-state").prop("disabled",!1),e.find(".icon").attr("style","")}},goBottom:function(){var e=app.header.ELS,t=$body.find(e.mobile.ctnNav),a=$body.find(e.desktop.ctnNav),n=$(this),i=n.offset().top,o=n.innerHeight(),s=0;s=app.SIZE.wW>=app.SIZE.desktopW?i-a.outerHeight(!0)+o/2:i-t.outerHeight(!0)+o/2,$("html, body").animate({scrollTop:s},500)},modOverlayOut:function(){var e=$(this),t=e.closest(".flyover");t.hasClass("js-iWant")?app.moduleiWant.close():t.hasClass("js-modForm")&&app.moduleForms.module.animation.out()},sectionToClick:{prevent:function(e){e.preventDefault()},click:function(){var e=$(this),t=e.find(".btn");if(t){var a=t[0].href,n=t[0].target;"_blank"===n?window.open(a,n):window.open(a,"_self")}}},toggleFaq:function(){var e=$(this);e.closest(".js-faq").toggleClass("is-open")}},app.header={TIMERS:"",AJAX:{DEV:{MENU:"/data/menu.json",MENUPREVIEW:"/data/menuPreview.html"},LIVE:{MENU:"/api/menumaintop/",MENUPREVIEW:"/MenuPreviewPage/"}},ELS:{mobile:{menuTop:".js-mobile-menu-top",ctnNav:".js-mobile-navigation",navbar:".js-navbar",nav:".js-nav",menuLang:".js-menuLang",buttonsNav:".js-buttonsNav",panels:".js-mobilePanels",panelItem:".js-mobilePanel",navHelperMenu:".js-helper-menu",navhelperBack:".js-helper-back",navhelperLang:".js-helper-lang"},desktop:{menuTop:".js-desktop-menu-top",menuLang:".js-menuLang",ctnNav:".js-desktop-navigation",nav:".js-nav",flyout:".js-flyout",navChildren:".js-navChildren",bgOverlay:".js-bgOverlay",bgMenu:".js-bgMenu"}},DATA:{MENU:[],MOBILEPANELS:[]},init:function(){var e=app.header;e.setupLayout(),e.setupEvents(),e.mobile.setup(),e.desktop.setup()},setupEvents:function(){var e=app.header;$(window).on("scroll",function(){"desktop"===$body.attr("data-device")?e.desktop.scroll():e.mobile.scroll()}),$(window).on("resize",function(){e.mobile.top.reset()})},setupLayout:function(){app.header},menu:{setupLayout:function(){var e=app.header,t=e.ELS,a=$body.find(t.desktop.ctnNav),n=a.find(t.desktop.flyout),i=$body.find(t.mobile.nav);i.find(t.mobile.panels);$.when(e.menu.endpointCall()).done(function(a){if(!app.helpers.isEmpty(a)){e.DATA.MENU=a;var i=a;i.Childs.length&&$.each(i.Childs,function(a,i){i.Childs.length&&$.each(i.Childs,function(a,i){if(i.Childs.length){var o=e.desktop.menu.placeSubmenu(i.Childs),s=n.find(t.desktop.navChildren+' .js-menu-item[data-id="'+i.Id+'"]').closest('li[data-id="'+i.Id+'"]');s.append(o);var l={Id:i.Id,NodeId:i.NodeId,Childs:i.Childs,Crosssale:i.Crosssale};e.mobile.menu.thirdLevel.placePanel(l)}})}),e.menu.setup()}})},setup:function(){var e=app.header;"desktop"===$body.data("device")&&e.desktop.menu.flyout.preview.previewPlace()},endpointCall:function(){var e=app.header,t=e.AJAX.LIVE.MENU+$body.data("homepage-id");return $.ajax(t)}},mobile:{setup:function(){var e=app.header;e.mobile.menu.setup(),e.mobile.lang.setup(),e.mobile.top.setup()},menu:{setup:function(){var e=app.header;e.mobile.menu.setupEvents(),e.mobile.menu.setupTimeline()},setupEvents:function(){var e=app.header,t=e.ELS;$body.on("click",'[data-action="toggleMenu"]',e.mobile.menu.toggleMenu).on("click",t.mobile.nav+' .js-menu-item[data-action="openChilds"]',e.mobile.menu.painelMenu).on("click",t.mobile.nav+' [data-action="menuBack"]',e.mobile.menu.back)},setupTimeline:function(){var e=app.header,t=e.ELS.mobile,a=$body.find(t.menuTop),n=$body.find(t.ctnNav),i=n.find(t.navbar),o=i.find(".js-hamburger"),s=i.find(".js-searchWrapper"),l=(n.find(t.nav),0);l=app.SIZE.wH-a.outerHeight(!0)-i.outerHeight(!0),tlToggleMenu=new TimelineLite({paused:!0}),tlToggleMenu.to(s,.08,{opacity:0}).set(o,{className:"+=is-active"}).to(o.find(".js-txtMenu"),.08,{opacity:0}).set(o.find(".js-txtMenu"),{display:"none"}).set(o.find(".js-txtClose"),{display:"inline-block"}).to(o.find(".js-txtClose"),.08,{opacity:1},"-=0.08").add(function(){n.find(t.nav).hasClass("is-open")?$body.find(t.ctnNav).hasClass("is-fixed")||$body.find(t.ctnNav).hasClass("was-fixed")||TweenLite.to($body.find(t.ctnNav),.1,{y:-$body.find(t.menuTop).outerHeight(!0),onComplete:function(){$body.find(t.ctnNav).attr("style","").css({position:"fixed"})}}):$body.find(t.ctnNav).hasClass("is-fixed")||$body.find(t.ctnNav).hasClass("was-fixed")||TweenLite.to($body.find(t.ctnNav),.1,{y:$body.find(t.menuTop).outerHeight(!0),onComplete:function(){$body.find(t.ctnNav).attr("style","")}})}).to(n,.2,{height:"100%"},"+=0.2").add(function(){n.find(t.nav).hasClass("is-open")||TweenLite.to($body.find(t.ctnNav),.05,{y:"0",onComplete:function(){$html.removeClass("menu-is-open"),app.components.scrollInfo.go()}})}).to(o,.2,{x:30,zIndex:1},"-=0.1").add(function(){n.find(t.nav).hasClass("is-open")&&(TweenLite.set($body.find(t.ctnNav),{y:"0px"}),$body.find(t.ctnNav).hasClass("is-fixed")&&$body.find(t.ctnNav).addClass("was-fixed"),$html.addClass("menu-is-open"))})},toggleMenu:function(){var e=app.header,t=e.ELS.mobile,a=($body.find(t.menuTop),$body.find(t.ctnNav)),n=a.find(t.navbar),i=(n.find(".js-hamburger"),n.find(".js-searchWrapper"),a.find(t.nav)),o=0;o=n.outerHeight(!0),i.hasClass("is-open")?(i.removeClass("is-open"),tlToggleMenu.reverse()):(i.addClass("is-open"),app.components.scrollInfo.save(),tlToggleMenu.play()),e.DATA.MENU.length<=0&&e.menu.setupLayout()},painelMenu:function(){var e=$(this),t=app.header.ELS.mobile.nav,a=app.header.ELS.mobile.panelItem,n=app.header.ELS.mobile.navHelperMenu,i=app.header.ELS.mobile.navhelperBack,o=app.header.ELS.mobile.navhelperLang,s=$body.find(t),l=s.find(i),d=s.find(n),r=s.find(o),p=l.find(".text"),c=1*s.find(i).data("zindex"),u=c+1,f=e.data("id"),m="";s.find(a).each(function(){1*$(this).data("parent-id")===f&&(m=$(this))}),d.fadeOut("100",function(){l.data("zindex",u).fadeIn()}),r.fadeOut("100"),u>1&&p.html(e.find(".text").html()),m.animate({left:0},500).css("z-index",u),app.header.DATA.MOBILEPANELS.push({id:f,name:e.find(".text").html()})},thirdLevel:{placePanel:function(e){var t=app.header,a=t.ELS,n=$body.find(a.mobile.nav),i=n.find(a.mobile.panels),o=app.helpers.getTemplate("mobile-panel"),s=e.Id,l=e.NodeId,d=e.Childs,r=e.Crosssale,p=n.find(".js-crossSaleToMove");o.attr("data-parent-id",s),$.each(d,function(e,a){o.find("ul").append(t.mobile.menu.thirdLevel.placePanelMenuItem(a))}),r&&(o.attr("data-crosssale-id",l),o.append(p.find('.js-crossSale[data-crosssale-id="'+l+'"]'))),i.append(o)},placePanelMenuItem:function(e){var t=app.helpers.getTemplate("mobile-panel-item");return t.find(".js-menu-item").attr("href",e.url).html(e.Name).data("id",e.Id).data("crosssale-id",e.CrosssaleId),t}},back:function(){var e=$(this),t=app.header.ELS.mobile.nav,a=app.header.ELS.mobile.navhelperBack,n=app.header.ELS.mobile.panelItem,i=app.header.ELS.mobile.navHelperMenu,o=app.header.ELS.mobile.navhelperLang,s=$body.find(t),l=s.find(a),d=s.find(i),r=s.find(o),p=l.find(".text"),c=1*e.data("zindex"),u=c-1,f="";s.find(n).each(function(){1*$(this).data("parent-id")===app.header.DATA.MOBILEPANELS[u].id&&(f=$(this))}),app.header.DATA.MOBILEPANELS=app.header.DATA.MOBILEPANELS.slice(0,u),u<=0&&l.fadeOut("100",function(){d.fadeIn(),r.fadeIn()}),u<=1&&p.html(p.data("text")),l.data("zindex",c-1),f.animate({left:"100%"},500,function(){})}},lang:{setup:function(){var e=app.header;e.mobile.lang.setupEvents()},setupEvents:function(){var e=app.header,t=e.ELS;$body.on("click",t.mobile.nav+' [data-action="toggleLang"]',e.mobile.lang.openLang).on("click",e.mobile.menu.closeLang)},openLang:function(){var e=app.header,t=e.ELS.mobile,a=$body.find(t.ctnNav),n=a.find(t.menuLang);n.animate({opacity:"toggle",height:"toggle"},200,"swing",function(){$body.addClass("menu-lang-is-open")})},closeLang:function(e){if($body.hasClass("menu-lang-is-open")){var t=app.header,a=t.ELS.mobile,n=$body.find(a.ctnNav),i=n.find(a.menuLang);$(e.target).hasClass("js-menuLang")||i.animate({opacity:"toggle",height:"toggle"},200,"swing",function(){$body.removeClass("menu-lang-is-open")})}}},top:{setup:function(){var e=app.header;e.mobile.top.setupEvents(),e.mobile.top.setupTimeline()},setupEvents:function(){var e=app.header;$body.on("click",'[data-action="openSegments"]',e.mobile.top.toggleMenu)},setupTimeline:function(){var e=app.header,t=e.ELS,a=$body.find(t.mobile.menuTop),n=a.find(".js-menu-top-main"),i=n.find(".js-menu-items"),o=$body.find(".js-bgTopOverlay");tlTop=new TimelineLite({paused:!0}),tlTop.set(o,{bottom:0}).to(o,.1,{opacity:1}).to(n,.1,{height:i.outerHeight(!0)})},toggleMenu:function(){var e=app.header,t=e.ELS,a=$body.find(t.mobile.menuTop),n=$body.find(".js-bgTopOverlay"),i=a.find(".js-menu-top-main"),o=i.find(".js-menu-items");a.hasClass("is-open")?(a.removeClass("is-open"),i.animate({height:0},100,function(){n.animate({opacity:0},100,function(){n.css("bottom","100%")})})):(a.addClass("is-open"),n.css("bottom","0").animate({opacity:1},100,function(){i.animate({height:o.outerHeight(!0)},100)}))},reset:function(){var e=app.header,t=e.ELS,a=$body.find(t.mobile.menuTop),n=a.find(".js-menu-top-main"),i=$body.find(".js-bgTopOverlay");a.hasClass("is-open")?(a.removeClass("is-open"),n.attr("style",""),i.attr("style","")):n.attr("style","")}},scroll:function(){var e=app.header.ELS.mobile,t=$body.find(e.menuTop),a=$body.find(e.ctnNav),n=t.outerHeight();$(window).scrollTop()>n?(t.css("margin-bottom",a.outerHeight(!0)),a.addClass("is-fixed")):(t.css("margin-bottom","0"),a.removeClass("is-fixed"))}},desktop:{setup:function(){var e=app.header;e.desktop.menu.setup(),e.desktop.lang.setup()},menu:{setup:function(){var e=app.header;$tlShow=new TimelineLite({paused:!0}),e.desktop.menu.setupEvents(),e.desktop.menu.flyout.setup()},setupEvents:function(){var e=app.header,t=e.ELS;$body.on("mouseenter",t.desktop.ctnNav+" "+t.desktop.nav+" .menu-item",e.desktop.menu.flyout.showHide).on("mouseleave",t.desktop.ctnNav,e.desktop.menu.flyout.hide).on("mouseenter",t.desktop.ctnNav+" "+t.desktop.flyout+" .menu-item[data-preview-id]",e.desktop.menu.flyout.previewSetup).on("mouseenter",t.desktop.ctnNav+" "+t.desktop.flyout+" .menu-item:not([data-preview-id])",e.desktop.menu.flyout.previewClean).on("click",t.desktop.ctnNav+" "+t.desktop.navChildren+' .menu-item[data-action="dropdown"]',e.desktop.menu.flyout.toggleChildren)},flyout:{setup:function(){var e=app.header,t=app.header.ELS.desktop,a=$body.find(t.ctnNav),n=a.find(t.flyout),i=1*n.data("minheight"),o=a.find(t.bgMenu),s=$body.find(t.bgOverlay);e.DATA.MENU.length<=0&&e.menu.setupLayout(),$tlShow.set(o,{height:a.outerHeight(!0)}).set(s,{bottom:"0"}).to(o,.1,{opacity:1}).to(s,.1,{opacity:1}).add(function(){var e=$body.find(t.menuTop),s=$body.find(t.ctnNav);e.hasClass("to-Open")?TweenLite.to(o,.1,{height:n.find(t.navChildren+".is-active").outerHeight(!0)>=i?n.find(t.navChildren+".is-active").outerHeight(!0)+a.outerHeight(!0):i+a.outerHeight(!0),onComplete:function(){e.addClass("is-open-navflyout"),s.addClass("is-open-navflyout"),n.css("height",n.find(t.navChildren+".is-active").outerHeight(!0)>=i?n.find(t.navChildren+".is-active").outerHeight(!0):i)}}):(e.removeClass("is-open-navflyout"),s.removeClass("is-open-navflyout"),n.css("height",0),TweenLite.to(o,.1,{height:a.outerHeight(!0)}))},"+=0.1").to(n,.08,{opacity:1})},showHide:function(e){var t=app.header,a=app.header.ELS.desktop,n=$body.find(a.ctnNav),i=n.find(a.nav),o=n.find(a.flyout),s=n.find(a.bgMenu),l=$body.find(a.menuTop),d=$(this),r=d.data("id"),p=o.find(a.navChildren+".is-active"),c=o.find(a.navChildren+'[data-parent-id="'+r+'"]');if(i.find(".hover").removeClass("hover"),d.addClass("hover"),"dropdown"===d.data("action")){if(p.removeClass("is-active"),c.addClass("is-active"),l.hasClass("to-Open")){var u=c.outerHeight(!0),f=1*o.data("minheight");u>=f?(TweenLite.to(s,.1,{height:u+n.outerHeight(!0)}),TweenLite.to(o,.1,{height:u})):(TweenLite.to(o,.1,{height:f}),TweenLite.to(s,.1,{height:f+n.outerHeight(!0)}))}else l.addClass("to-Open");$tlShow.play()}else l.removeClass("to-Open"),p.removeClass("is-active"),$tlShow.reverse();t.desktop.menu.flyout.previewClean()},hide:function(){var e=app.header.ELS.desktop,t=$body.find(e.ctnNav),a=t.find(e.nav),n=t.find(e.flyout),i=n.find(e.navChildren+".is-active");i.removeClass("is-active"),a.find(".hover").removeClass("hover"),$body.find(e.menuTop).removeClass("to-Open"),$tlShow.reverse()},previewSetup:function(){var e=$(this),t=e.data("preview-id"),a=app.header;$(t).length>0&&null!=t?a.desktop.menu.flyout.previewShow(this):a.desktop.menu.flyout.previewClean()},previewShow:function(e){var t=$(e),a=app.header.ELS,n=t.data("preview-id"),i=$body.find(a.desktop.flyout),o=i.find(".js-nav-preview.is-active"),s=i.find(".js-nav-preview.is-active").data("preview-id"),l=i.find('.js-nav-preview[data-preview-id="'+n+'"]'),d=l.find(".js-preview-image"),r=d.data("src");o.length&&n!=s?(l.addClass("to-Show"),i.find(".js-nav-preview.is-active:not(.to-Show)").css({display:"none",opacity:0}).removeClass("is-active"),l.css("display","block"),TweenLite.to(l,.2,{opacity:1,onComplete:function(){l.addClass("is-active"),l.removeClass("to-Show")}})):(l.css("display","block"),l.animate({opacity:1},200,function(){l.addClass("is-active")})),l.hasClass("image-is-loaded")||app.helpers.imageLoaded(r,function(){l.addClass("image-is-loaded"),l.find(".js-preview-image").removeClass("is-not-loaded").css("background-image","url("+r+")")})},previewClean:function(){var e=app.header.ELS.desktop,t=$body.find(e.flyout);t.find(".js-nav-preview.is-active").removeClass("is-active").animate({opacity:0},200)},preview:{setup:function(){},previewPlace:function(){var e=app.header,t=app.header.ELS,a=$body.find(t.desktop.ctnNav),n=a.find(t.desktop.flyout);n.hasClass("previews-is-loaded")||(n.addClass("previews-is-loaded"),$.when(e.desktop.menu.flyout.preview.endpointCall()).done(function(e){n.append(e)}))},endpointCall:function(){var e=app.header,t="/"+$body.data("lang")+e.AJAX.LIVE.MENUPREVIEW+"?homepageId="+$body.data("homepage-id");return $.ajax(t)}},toggleChildren:function(){var e=$(this),t=e.next(".js-submenu"),a=0;t.find(">li").each(function(){a+=$(this).outerHeight(!0)}),t.hasClass("is-open")?(t.animate({height:0},500,function(){t.removeClass("is-open")}),e.removeClass("is-active")):(t.animate({height:a},500,function(){t.addClass("is-open")}),e.addClass("is-active"))}},placeSubmenu:function(e){var t=app.header,a=app.helpers.getTemplate("desktop-submenu");return $.each(e,function(e,n){a.prepend(t.desktop.menu.placeSubmenuItem(n))}),a},placeSubmenuItem:function(e){var t=app.helpers.getTemplate("desktop-submenu-item");return t.find(".js-menu-item").attr("href",e.url).data("id",e.Id),e.Preview&&t.find(".js-menu-item").attr("data-preview-id",e.NodeId),t.find(".js-menu-item .text").html(e.Name),t}},lang:{setup:function(){var e=app.header;e.desktop.lang.setupEvents()},setupEvents:function(){var e=app.header,t=e.ELS;$body.on("click",t.desktop.menuTop+' [data-action="toggleLang"]',e.desktop.lang.toggleLang).on("mouseleave",t.desktop.menuTop+" "+t.desktop.menuLang,e.desktop.lang.toggleLang)},toggleLang:function(){var e=app.header,t=e.ELS.desktop,a=$body.find(t.menuTop),n=a.find(t.menuLang);n.animate({opacity:"toggle",height:"toggle"},200,"swing")}},scroll:function(){var e=app.header.ELS,t=$body.find(e.desktop.menuTop),a=$body.find(e.desktop.ctnNav);$(window).scrollTop()>t.outerHeight()?(t.css("margin-bottom",a.outerHeight(!0)),a.addClass("is-fixed")):(t.css("margin-bottom","0"),a.removeClass("is-fixed"))}}},app.helpers={TIMERS:"",DATA:"",AJAX:"",init:function(){var e=app.helpers;e.setupEvents(),e.setupLayout()},setupEvents:function(){},setupLayout:function(){},browserDetect:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var a=e.indexOf("Trident/");if(a>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var i=e.indexOf("Edge/");return i>0&&parseInt(e.substring(i+5,e.indexOf(".",i)),10)},osDetect:function(){var e=!1;return navigator.appVersion.indexOf("Win")!==-1?e="Windows":navigator.appVersion.indexOf("Mac")!==-1?e="MacOS":navigator.appVersion.indexOf("X11")!==-1?e="UNIX":navigator.appVersion.indexOf("Linux")!==-1&&(e="Linux"),e},getUrlParam:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=a.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},getRandom:function(e,t,a){return"int"===a?(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e):Math.random()*(t-e)+e},isEmpty:function(e){return!(void 0!==e&&null!==e&&""!==e)},getTemplate:function(e){if(!app.helpers.isEmpty(e))return $($body.find('template[data-tpl-id="'+e+'"]').html()).clone()},imageLoaded:function(e,t){var a=new Image;a.onload=t,a.src=e,a=null},getIndexObj:function(e,t){var a=$.map(e,function(e,a){if(e.id===t)return a});return a[0]}},app.moduleExchange={TIMERS:"",DATA:"",AJAX:{DEV:{PDF:"getPDF"},LIVE:{PDF:"getPDF"}},VALUES:{MONTHLY:"",REQUEST:""},CONFIG:{MARK:","},exchangeDataB:[],exchangeDataN:[],exchangeMode:"",currencyType:"",init:function(){var e=app.moduleExchange;e.exchangeMode="buy",e.currencyType="B",$body.find(".js-exchangeTaxes").length&&e.setupLayout(),$body.find(".js-exchangeTable").length&&e.tableList.now(),e.setupEvents()},endpointCall:function(e,t){var a=app.URI.LIVE.URI+(""!==e?app.URI.LIVE[e]:"")+(""!==t&&void 0!==t?t:"");return $.ajax(a)},setupEvents:function(){var e=app.moduleExchange;$body.on("click",".js-btn-next",function(){e.updateRow("next")}).on("click",".js-btn-prev",function(){e.updateRow("prev")}).on("keyup",".exchange-input",e.updateCurrency).on("click",".js-display .js-switch",e.switchSide).on("click",".js-tabs-container .js-nav-tab",e.switchTab).on("change",'[data-action="updateTableList"]',e.tableList.byDate).on("click",'[data-action="updateTableNow"]',e.tableList.now)},setupLayout:function(){var e=app.moduleExchange;$.when(e.endpointCall("EXCHANGEB")).done(function(t){e.exchangeDataB=t,e.updateTable()}),$.when(e.endpointCall("EXCHANGEN")).done(function(t){e.exchangeDataN=t})},updateTable:function(){var e,t,a,n,i=app.moduleExchange,o=!1,s=$body.find(".js-table table"),l=app.helpers.getTemplate("exchange");for("B"===i.currencyType?e=i.exchangeDataB:"N"===i.currencyType&&(e=i.exchangeDataN),s.find("tr:not(:first)").remove(),a=0;a<e.length;a++)t=e[a],n=l.find("tr").clone(),t.Highlight===!0&&(o===!1&&($body.find(".js-to .js-label").text(t.Currency),n.addClass("is-active"),o=!0),n.find(".exchange-currency").text(t.Currency),n.find(".exchange-buy").text(t.Buy.toFixed(3)),n.find(".exchange-sell").text(t.Sell.toFixed(3)),s.append(n));i.updateCurrency()},updateRow:function(e){var t,a=app.moduleExchange,n=$body.find(".js-to .js-label"),i=$body.find(".js-table table"),o=i.find("tr"),s=i.find("tr.is-active"),l=o.index(s);s.removeClass("is-active"),"next"===e?t=l>=o.length-1?o.eq(1):s.next():"prev"===e&&(t=l<=1?o.eq(o.length-1):s.prev()),t.addClass("is-active"),n.text(t.find(".exchange-currency").text()),a.updateCurrency()},updateCurrency:function(){var e=$body.find(".js-exchangeTaxes .js-display"),t=$body.find(".js-table table"),a=t.find("tr.is-active"),n=e.find(".js-number"),i=e.find(".js-input").val(),o=a.find(".exchange-buy").text(),s=a.find(".exchange-sell").text(),l=Math.round(i/o*100)/100,d=Math.round(i/s*100)/100,r=app.moduleExchange.exchangeMode;"buy"===r&&(l<=0&&(l=Math.round(i/o*1e4)/1e4),n.text(l)),"sell"===r&&(d<=0&&(d=Math.round(i/s*1e4)/1e4),n.text(d))},switchSide:function(){var e=app.moduleExchange,t=$body.find(".js-exchangeTaxes .js-display"),a=t.find(".js-from"),n=t.find(".js-to"),i=t.find(".js-input"),o=t.find(".js-number");o.text(),i.val();t.hasClass("is-reversed")?(e.exchangeMode="sell",n.append(o),a.append(i),
t.removeClass("is-reversed")):(e.exchangeMode="buy",n.append(i),a.append(o),t.addClass("is-reversed")),e.updateCurrency()},switchTab:function(){var e=app.moduleExchange,t=$(this),a=t.data("tab-index");t.addClass("is-active").siblings().removeClass("is-active"),1===a?e.currencyType="B":2===a&&(e.currencyType="N"),e.updateTable()},tableList:{byDate:function(){var e=$(this),t=e.val();app.moduleExchange.tableList.update(t)},now:function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear();a<10&&(a="0"+a),app.moduleExchange.tableList.update(n+"-"+a+"-"+t)},update:function(e){var t=app.moduleExchange;if(""!==e){var a=$body.find(".js-exchangeTable");a.find("tbody tr:not(.highlight)").remove(),$.when(t.endpointCall("LIST",e)).done(function(e){for(var a=0;a<e.length;a++)t.tableList.placeRow(e[a]);0===e.length&&t.tableList.placeRowEmpty()})}},placeRow:function(e){var t,a=$body.find(".js-exchangeTable");t="<tr><td>"+e.Currency+"</td><td>"+e.Values[0].Buy.toFixed(3)+"</td><td>"+e.Values[0].Sell.toFixed(3)+"</td><td>"+e.Values[1].Buy.toFixed(3)+"</td><td>"+e.Values[1].Sell.toFixed(3)+"</td></tr>",a.append(t)},placeRowEmpty:function(){var e,t=$body.find(".js-exchangeTable"),a=t.data("dictionary");e='<tr><td colspan="5">'+a+"</td></tr>",t.append(e)}}},app.moduleForms={TIMERS:"",DATA:"",AJAX:{DEV:{FORMGET:"/data/form",FORMSUBMIT:"/api/bfaform/",FORMSUCESS:"/FormPageSuccess?id="},LIVE:{FORMGET:"/FormPage?id=",FORMSUBMIT:"/api/bfaform/",FORMSUCESS:"/FormPageSuccess?id="}},init:function(){var e=app.moduleForms;$body.hasClass("moduleiForm-ini")||(e.setupLayout(),e.setupEvents(),$body.addClass("moduleiForm-ini"))},setupEvents:function(){var e=app.moduleForms;$body.on("click",'[data-action="enterFormStep"]',e.splashScreen.out).on("click",'[data-action="openForm"]',e.module.start).on("click",'[data-action="outForm"]',e.module.animation.out).on("click",'[data-action="goSubscribe"]',e.form.goSubscribe).on("click",'[data-action="submit"]',e.form.submit.click).on("focusin",'.input:not([type="checkbox"])',e.form.focusIn).on("focusout",'.input:not([type="checkbox"])',e.form.focusOut).on("click",".js-formInput.checkbox .input",e.form.checkbox).on("change",".js-formInput.uploadfilefield .input",e.form.uploadFile).on("click",".js-formInput.checkbox .input, .js-formInput.agreetotermsfield .input",e.form.checkbox).on("keyup",e.module.esc)},setupLayout:function(){app.moduleForms},splashScreen:{slider:function(){var e,t=$body.find(".js-modForm.is-active");t.find(".js-sliderSplash:not(.slick-slider)").each(function(){e=$(this),e.on("init",function(){$(this).addClass("init")}),e.slick({slidesToShow:1,initialSlide:0,arrows:!1,dots:!0,dotsClass:"dots",infinite:!1,centerMode:!0,centerPadding:"100px",responsive:[{breakpoint:app.SIZE.mobileW,settings:{centerPadding:"90px"}},{breakpoint:app.SIZE.mobileXSW,settings:{centerPadding:"40px"}}]})})},out:function(e){e.preventDefault();var t=(app.moduleForms,$(this)),a=t.closest(".js-tabWrapper"),n=a.next(".js-tabWrapper"),i=$body.find(".js-modForm.is-active");a.css("display","none").removeClass("is-active"),n.addClass("is-active"),i.find(".container-flyover").scrollTop(0),TweenLite.to(n,.2,{opacity:1})}},form:{setupValidate:function(){if(!$body.find(".jsValidate").length){var e=document.createElement("script");e.type="text/javascript",e.src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.min.js",e.className="jsValidate",$(e).appendTo($body)}if(!$body.find(".jsValidateUnobtrusive").length){var t=document.createElement("script");t.type="text/javascript",t.src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.10/jquery.validate.unobtrusive.js",t.className="jsValidateUnobtrusive",$(t).appendTo($body)}},date:{init:function(){var e=$body.find(".js-modForm.is-active"),t=e.find(".js-date");t.each(function(){var e=$(this);e.mask("00/00/0000"),e.on("focusin",function(){$(this).attr("placeholder","__/__/____")}),e.on("focusout",function(){$(this).attr("placeholder","")})})}},urlCall:function(e){var t=app.moduleForms,a="/"+$body.data("lang")+t.AJAX.LIVE.FORMGET+e;return a},goSubscribe:function(){var e=$(this),t=e.closest(".js-formStep"),a=t.next(".js-formStep");a.addClass("is-active");var n=new TimelineLite;n.to(a,.3,{opacity:1})},focusIn:function(){var e=$(this),t=e.closest(".js-formInput");t.addClass("is-focus")},focusOut:function(){var e=$(this),t=e.closest(".js-formInput");t.removeClass("is-focus"),e.val().length?t.addClass("has-value"):t.removeClass("has-value")},checkbox:function(){var e=$(this);e.is(":checked")?e.closest(".js-formInput").addClass("is-checked"):e.closest(".js-formInput").removeClass("is-checked")},uploadFile:function(){var e=$(this),t=e.val(),a=e.closest(".js-formInput"),n=e.siblings(".js-textInputFile");t.length?(n.html(t),a.addClass("has-value")):(n.html(""),a.removeClass("has-value"))},submit:{url:function(){var e=app.moduleForms,t=e.AJAX.LIVE.FORMSUBMIT;return t},click:function(e){e.preventDefault();var t=app.moduleForms,a=$(this),n=a.closest("form"),i=a.closest(".js-tabWrapper").data("id"),o=n.find("#FormId").val();if(n.valid()){var s=[],l=function(){n.find(".js-formInput:not(.uploadfilefield)").each(function(e,a){var l=$(a).find(".input");item={fieldGuid:l.attr("name"),fieldValue:l.val()},s.push(item),n.find(".js-formInput:not(.uploadfilefield)").length===e+1&&t.form.submit.call(i,o,s,n)})};n.find(".js-formInput.uploadfilefield").length?n.find(".js-formInput.uploadfilefield").each(function(e,t){var a={},i=$(t).find(".input"),o=i[0].files;if(o.length){var d=new FileReader,r="";d.readAsDataURL(o[0]),d.onload=function(){r=d.result,a={fieldGuid:i.attr("name"),fieldValue:o[0].name+";"+r},s.push(a),n.find(".js-formInput.uploadfilefield").length===e+1&&l()},d.onerror=function(e){}}else a={fieldGuid:i.attr("name"),fieldValue:""},s.push(a),n.find(".js-formInput.uploadfilefield").length===e+1&&l()}):l()}else app.components.googleEvents.types.formError(n)},call:function(e,t,a,n){var i=app.moduleForms,o={nodeId:$body.data("id"),formId:e,formGuid:t,formBody:a},s=i.form.submit.url();o=JSON.stringify(o),$.ajax({url:s,type:"POST",contentType:"application/json; charset=utf-8",data:o,statusCode:{200:function(t){i.form.submit.feedback.call(e),app.components.googleEvents.types.formSuccess(n)},400:function(e){}}})},feedback:{url:function(e){var t=app.moduleForms,a="/"+$body.data("lang")+t.AJAX.LIVE.FORMSUCESS+e;return a},call:function(e){var t=app.moduleForms,a=t.form.submit.feedback.url(e);$.ajax({url:a,contentType:"application/html; charset=utf-8",type:"GET",dataType:"html",cache:!1,success:function(e){var t=$body.find(".flyover.is-active"),a=t.find(".js-tabWrapper:last-of-type"),n=$(e),i=new TimelineLite;n.addClass("to-Show is-active"),a.after(n),i.to(t.find(".to-Show"),.3,{opacity:1}).to(a,.3,{opacity:0,onComplete:function(){t.find(".to-Show").removeClass("to-Show"),t.addClass("show-feedback"),a.css("display","none")}})}})}}},resetInputs:function(){var e=$body.find(".flyover.is-active");e.find("form").each(function(e,t){var a=$(t);a.find(".js-formInput.is-checked").each(function(e,t){var a=$(t);a.removeClass("is-checked"),a.find('input[type="checkbox"]:checked').prop("checked",!1)}),a.find(".js-formInput.has-value").each(function(e,t){var a=$(t);a.removeClass("has-value")}),a.find(".js-formInput .input.input-validation-error").each(function(e,t){var a=$(t);a.removeClass("input-validation-error")}),a.find(".js-formInput.uploadfilefield").each(function(e,t){var a=$(t);a.find(".js-textInputFile").html("")}),a[0].reset(),a.find(".field-validation-valid").html("")})}},module:{start:function(){var e=app.moduleForms,t=$(this),a=t.data("id-form"),n=$body.find('.js-modForm[data-id="'+a+'"]');$body.find(".page-title").text();app.components.feedbackButtons.start(t),n.length>0?(n.addClass("is-active"),e.module.reset(),e.module.animation["in"](),app.components.googleEvents.types.openForm(n)):e.module.placeModule(a)},placeModule:function(e){var t=app.moduleForms,a=app.helpers.getTemplate("formOverlay");$.ajax({url:t.form.urlCall(e),contentType:"application/html; charset=utf-8",type:"GET",dataType:"html",cache:!1,success:function(n){a.attr("data-id",e),a.addClass("is-active"),a.find(".js-contentTabs").append(n),a.find(".js-tabWrapper.form").attr("data-id",e),$body.append(a);var i=$body.find(".js-modForm.is-active"),o=i.find("form");o.removeData("validator"),o.removeData("unobtrusiveValidation"),$.validator.unobtrusive.parse(o),t.module.animation["in"](),a.find(".js-formSplash").length?t.splashScreen.slider():i.find(".js-tabWrapper").addClass("is-active initial"),o.find(".js-date").length&&t.form.date.init(),app.components.googleEvents.types.openForm(o)}})},animation:{"in":function(){var e=new TimelineLite,t=$body.find(".js-modForm.is-active");e.to(t,.3,{opacity:1}).to(t.find(".container-flyover"),.4,{right:0,onComplete:function(){app.components.scrollInfo.save(),$html.addClass("is-open-forms"),t.addClass("is-ready"),app.components.feedbackButtons.end()}})},out:function(){var e=new TimelineLite,t=$body.find(".js-modForm.is-active");t.removeClass("is-ready"),$html.removeClass("is-open-forms"),app.components.scrollInfo.go(),e.to(t.find(".container-flyover"),.5,{right:"-100%"}).to(t,.3,{opacity:0,onComplete:function(){t.removeClass("is-active")}})}},reset:function(){var e=app.moduleForms,t=$body.find(".js-modForm.is-active");t.find(".js-tabWrapper").each(function(e,t){$(t).removeAttr("style"),$(t).removeClass("is-active")}),t.find(".js-tabWrapper.initial").addClass("is-active"),e.form.resetInputs()},esc:function(e){var t=app.moduleForms,a=e.which;27===a&&$body.find(".js-modForm.is-active.is-ready").length&&t.module.animation.out()}}},app.moduleiWant={TIMERS:"",DATA:{TABS:null},AJAX:{DEV:{IWANTTABS:"/data/iwant-tabs.json",RESULTFORM:"/data/iwant-resultForm.html",RESULTSLIDE:"/data/iWant-resultSlider.html"},LIVE:{IWANTTABS:"/api/want/",RESULTFORM:"/FormPage?id=",RESULTSLIDE:"/WantSliderItems"}},init:function(e){var t=app.moduleiWant;t.setupLayout(e),t.setupEvents()},setupEvents:function(){var e=app.moduleiWant;$body.on("click",'.js-tabItem[data-action="tab"]',e.tabs.click).on("click",".js-tabDown",e.tabs.down).on("click",'.js-tabItem[data-action="results"]',e.results.slider.setup).on("click",'.js-tabItem[data-action="form"]',e.results.form.show).on("click",".js-resultsBackSearch",e.results.slider.animation.out).on("click",'[data-action="outiWant"]',e.close).on("keyup",e.esc)},setupLayout:function(e){var t=app.moduleiWant;t.tabs.setupLayout(e)},setup:function(e){var t=app.moduleiWant;$body.hasClass("moduleiWant-ini")?e():($body.addClass("moduleiWant-ini"),t.init(e))},open:function(){var e=app.moduleiWant;e.setup(e.animation.on),app.components.feedbackButtons.start($(this))},close:function(){var e=app.moduleiWant;app.pageDetail.modeIWant.checkMode()&&(app.pageDetail.modeIWant.resetLayout(),history.pushState(null,null,window.location.origin+window.location.pathname)),e.animation.out()},reset:function(){var e=$body.find(".js-iWant"),t=e.find(".js-wrapperResults");if(e.find(".js-tabWrapper.is-active.initial").find(".js-tabItem.is-checked").removeClass("is-checked"),e.find(".js-tabWrapper.feedback").remove(),e.find(".js-tabWrapper.is-active:not(.initial)").each(function(e,t){$(t).attr("style","").data("index","").data("height","").removeClass("is-active is-up is-ready"),$(t).find(".js-tabItem.is-checked").removeClass("is-checked")}),e.removeClass("show-feedback"),t.hasClass("to-top")){var a=t.find(".js-resultsItems");t.attr("style",""),t.removeClass("to-top"),a.remove()}},esc:function(e){var t=app.moduleiWant;key=e.which,27===key&&$body.find(".js-iWant.is-loaded.is-active").length&&t.close()},endpointCall:function(){var e=app.moduleiWant,t=e.AJAX.LIVE.IWANTTABS+$body.data("homepage-id");return $.ajax(t)},tabs:{totalTabs:0,setupLayout:function(e){var t=app.moduleiWant,a=app.helpers.getTemplate("iWant");a.addClass("is-loaded").addClass("is-active"),$body.append(a),$.when(app.moduleiWant.endpointCall()).done(function(a){t.DATA.TABS=a,t.tabs.helperCountTabs(0,t.DATA.TABS),t.tabs.placeTabs(0,t.DATA.TABS,!0,e)})},helperCountTabs:function(e,t){var a=app.moduleiWant;a.tabs.totalTabs+=1,$.each(t.Items,a.tabs.helperCountTabs)},placeTabs:function(e,t,a,n){var i=n,o=app.moduleiWant,s=app.helpers.getTemplate("iWantTabs"),l=$body.find(".js-iWant.is-loaded"),d=l.find(".js-contentTabs");if(o.tabs.totalTabs-=1,"tab"===t.Action){if(s.attr("data-tab",t.Id),s.find(".js-title").html(t.Name),t.Items.length>0){var r=!1,p=[];$.each(t.Items,function(e,n){var i=app.helpers.getTemplate("iWantTabsItem");if(n.Icon&&n.Icon.length&&i.addClass("help"),i.attr("data-action",n.Action).attr("data-tab",n.Id),i.find(".js-text").html(n.Name),s.find(".js-tabContent ul").append(i),"tab"===n.Action?r=!0:p.push(n.Id),t.Items.length===e+1&&!a&&!r){var o=app.helpers.getTemplate("iWantLinkResults");o.find(".js-tabItem").attr("data-tab",p),s.append(o)}})}if(a){s.addClass("initial is-active").attr("data-index",0),s.find(".js-tabDown").attr("data-action","outiWant").removeClass().addClass("icon icon-close"),d.append(s);var c=d.find(".js-tabTitle").outerHeight(!0)+d.find(".js-tabContent").outerHeight(!0);d.height(c),s.data("height",c)}else d.append(s)}0===o.tabs.totalTabs&&i&&i(),t instanceof Object&&$.each(t.Items,function(e,t){o.tabs.placeTabs(e,t,!1,i)})},click:function(){var e=app.moduleiWant,t=$(this),a=t.closest(".js-tabWrapper").data("tab"),n=t.data("tab");e.tabs.up(a,n),app.components.googleEvents.types.altMenu(t)},up:function(e,t){var a=$body.find(".js-iWant.is-loaded"),n=a.find('.js-tabWrapper[data-tab="'+e+'"]'),i=t,o=n.find(".js-tabTitle"),s=o.position().top,l=o.outerHeight(!0),d=a.find('.js-tabWrapper[data-tab="'+i+'"]'),r=d.find(".js-tabTitle"),p=d.find(".js-tabContent"),c=r.outerHeight(!0)+p.outerHeight(!0)+s+l,u=a.find(".js-contentTabs").outerHeight(!0),f=1*a.data("index"),m=f+1;d.css("z-index",m),d.data("index",m).addClass("is-active"),a.data("index",m),n.find('.js-tabItem[data-tab="'+t+'"]').addClass("is-checked"),TweenLite.to(d,.5,{top:s+l,onComplete:function(){d.addClass("is-up"),d.hasClass("form")&&d.addClass("is-ready")}}),c>u?(a.find(".js-contentTabs").height(c),d.data("height",c)):d.data("height",u)},down:function(){var e=$(this),t=e.closest(".js-tabWrapper"),a=(t.data("tab"),$body.find(".js-iWant")),n=a.find(".js-tabItem.is-checked"),i=1*a.data("index"),o=i-1,s=a.find(".js-contentTabs").outerHeight(!0),l=s;a.data("index",o),n.removeClass("is-checked"),$body.find(".js-tabWrapper.is-active").each(function(e,t){$(t).data("index")===o&&(l=$(t).data("height"))}),l<s&&TweenLite.to(a.find(".js-contentTabs"),.5,{height:l}),t.removeClass("is-up"),TweenLite.to(t,.5,{top:"100%",onComplete:function(){t.attr("style",""),t.removeClass("is-active")}})}},results:{form:{show:function(e){var t=$body.find(".js-iWant.is-loaded"),a=$(this).closest(".js-tabWrapper").data("tab"),n=$(e.currentTarget).data("tab");t.find('.js-tabWrapper[data-tab="'+n+'"]').length<=0?$.ajax({url:app.moduleForms.form.urlCall(n),contentType:"application/html; charset=utf-8",type:"GET",dataType:"html",success:function(e){var i=$($(e)[1]);i.attr("data-tab",n),i.addClass("is-active"),i.attr("data-id",n),i.find(".js-tabTitle .icon").removeClass().addClass("icon icon-arrow-special-up js-tabDown").removeAttr("data-action"),t.find(".js-contentTabs").append(i);var o=t.find(".js-tabWrapper.is-active form");o.removeData("validator"),o.removeData("unobtrusiveValidation"),$.validator.unobtrusive.parse(o),app.moduleForms.init(),app.moduleiWant.tabs.up(a,n)}}):app.moduleiWant.tabs.up(a,n)}},slider:{setup:function(e){e.preventDefault();var t=$(this),a=app.moduleiWant,n=$(this).data("tab");$.when(a.results.slider.endpointCall(n)).done(function(e){var n=$(e),i={html:n};a.results.slider.placeHTML(i),a.results.slider.animation["in"](),app.components.googleEvents.types.altMenu(t)})},placeHTML:function(e){var t=app.moduleiWant,a=e.html,n=$body.find(".js-iWant"),i=n.find(".js-wrapperResults"),o="tab=";i.find(".js-contentResults").append(a);var s=i.find(".js-resultsItems");s.on("init",function(){$(this).addClass("init")}),s.slick({variableWidth:!0,slidesToShow:1,centerMode:!0,centerPadding:"60px",initialSlide:0,arrows:!1,dots:!0,dotsClass:"dots",infinite:!1,responsive:[{breakpoint:app.SIZE.tabletW,settings:{variableWidth:!1,slidesToShow:1,centerPadding:"40px"}},{breakpoint:app.SIZE.mobileXSW,settings:{variableWidth:!1,slidesToShow:1,centerPadding:"20px"}}]}),t.results.slider.setupImage(),$(window).on("resize",t.results.slider.setupImage),n.find(".js-tabWrapper.is-active").each(function(e,t){e+1!=n.find(".js-tabWrapper.is-active").length?o=o+$(t).data("tab")+",":o+=$(t).data("tab")});var l="&result="+n.find(".js-resultsItems").data("tab"),d="?euquero=true&"+o+l;s.find(".js-cardiWant").each(function(e,t){var a=$(t).find(".js-link"),n=a.data("link");a.attr("href",n+d)})},setupImage:function(){var e=app.moduleiWant,t=$body.find(".js-iWant"),a=t.find(".js-wrapperResults"),n=a.find(".js-resultsItems"),i=app.SIZE.wW>app.SIZE.mobileW?".js-imageDesktop":".js-imageMobile";n.find(".js-img"+i).hasClass("image-is-loaded")||e.results.slider.loadImages(i)},loadImages:function(e){var t=$body.find(".js-iWant"),a=t.find(".js-wrapperResults"),n=a.find(".js-resultsItems");n.find(e).each(function(e,t){var a=$(t),n=a.data("image-src");app.helpers.imageLoaded(n,function(){a.addClass("image-is-loaded"),a.removeClass("is-not-loaded").css("background-image","url("+n+")")})})},animation:{"in":function(){var e=(app.moduleiWant,$body.find(".js-iWant")),t=e.find(".js-wrapperResults");t.addClass("to-top"),TweenLite.to(t,.5,{opacity:1})},out:function(){var e=(app.moduleiWant,$body.find(".js-iWant")),t=e.find(".js-wrapperResults");TweenLite.to(t,.5,{opacity:0,onComplete:function(){t.removeClass("to-top"),t.find(".js-contentResults").html("")}})}},endpointCall:function(e){var t=app.moduleiWant,a="/"+$body.data("lang")+t.AJAX.LIVE.RESULTSLIDE+"?id="+e;return $.ajax(a)}}},restart:{setup:function(){var e=app.moduleiWant;e.setup(e.restart.checkUrl)},checkUrl:function(){var e=app.moduleiWant,t=window.location.search.split("?"),a=t[1].split("&"),n=a[0],i=a[1].split("tab="),o=i[1].split(","),s=a[2].split("=");"true"===n.split("=")[1]&&$.each(o,function(t,a){if(t+1!=o.length)e.tabs.up(1*a,1*o[t+1]);else{var n=$body.find(".js-iWant.is-loaded"),i=n.find('.js-tabWrapper[data-tab="'+a+'"]'),l=i.find('.js-tabItem[data-tab="'+s[1]+'"]');l.trigger("click"),e.animation.on()}})}},animation:{on:function(){var e=$body.find(".js-iWant");e.addClass("is-active");var t=new TimelineLite;t.to(e,.3,{opacity:1}).to(e.find(".container-flyover"),.4,{right:0,onComplete:function(){app.components.scrollInfo.save(),$html.addClass("is-open-iwant"),$body.addClass("is-open-iwant"),app.components.feedbackButtons.end()}})},out:function(){var e=app.moduleiWant,t=$body.find(".js-iWant");app.moduleForms.form.resetInputs(),$html.removeClass("is-open-iwant"),$body.removeClass("is-open-iwant"),app.components.scrollInfo.go();var a=new TimelineLite;a.to(t.find(".container-flyover"),.5,{right:"-100%"}).to(t,.2,{opacity:0,onComplete:function(){t.removeClass("is-active"),e.reset()}},"-=0.2")}}},app.moduleMedia={TIMERS:"",DATA:"",AJAX:"",init:function(){var e=app.moduleMedia;e.setupEvents()},setupEvents:function(){var e=app.moduleMedia;$body.on("click",'[data-action="openMedia"]',e.setupLayout).on("click",'[data-action="closeFlyover"]',e.animation.out)},setupLayout:function(){var e=app.moduleMedia,t=$(this),a=app.helpers.getTemplate("loadMedia"),n=a.find(".js-contentMedia"),i=t.find(".date").text(),o=t.find(".title").text(),s=t.find(".description").text(),l=t.data("video"),d=t.data("cta"),r=t.data("ctaLink");app.components.feedbackButtons.start($(this)),n.find(".title").text(o),n.find(".description").text(s),n.find(".date").text(i),n.find("iframe").attr("src",n.find("iframe").attr("src")+l),""===d?n.find(".media-cta").remove():(n.find(".media-cta .text").text(d),n.find(".media-cta").attr("href",r)),a.addClass("is-loaded").addClass("is-active"),$body.append(a),e.animation.on()},animation:{on:function(){var e=$body.find(".js-media");e.addClass("is-active");var t=new TimelineLite;t.to(e,.3,{opacity:1}).to(e.find(".container-flyover"),.4,{right:0,onComplete:function(){app.components.scrollInfo.save(),$html.addClass("is-open-media"),$body.addClass("is-open-media"),app.components.feedbackButtons.end()}})},out:function(){var e=(app.moduleMedia,$body.find(".js-media"));$html.removeClass("is-open-media"),$body.removeClass("is-open-media"),app.components.scrollInfo.go();var t=new TimelineLite;t.to(e.find(".container-flyover"),.5,{right:"-100%"}).to(e,.2,{opacity:0,onComplete:function(){e.remove()}},"-=0.2")}}},app.moduleSimulator={TIMERS:"",DATA:"",AJAX:{DEV:{PDF:"getPDF"},LIVE:{PDF:"getPDF"}},VALUES:{MONTHLY:"",REQUEST:""},CONFIG:{MARK:","},init:function(){var e=app.moduleSimulator;e.setupLayout()},setupEvents:function(){var e=app.moduleSimulator;app.moduleSimulator.sliders.setupEvents(),app.moduleSimulator.inputs.setupEvents(),$body.on("change",'[data-action="changeCurrency"]',e.changeCurrency).on("click",".js-conditions",e.toggleConditions).on("click",'[data-action="getPDF"]',e.PDF.getValues).on("click",'[data-action="print"]',e.print).on("keyup",".js-input-vehicleValue",function(){var t=$(this),a=t.parents(".simulator-wrapper");e.updateAndPlace.monthly(a)})},setupLayout:function(){var e=app.moduleSimulator;simulators&&simulators.length&&$.each(simulators,function(t,a){$.when(e.placeLayout(a)).done(function(a){var n=a.data.type,i=a.simulator;"credito pessoal"===n&&(i.find(".js-questionInput").addClass("is-hidden"),i.find(".js-conditions").addClass("is-hidden")),"auto"===n&&(i.find(".js-chooseCoin").addClass("is-hidden"),i.find(".js-questionMonthly").addClass("is-hidden"),i.find(".js-input-vehicleValue").mask("000 000 000 000 000",{reverse:!1})),$.when(e.inputs.setup(i)).done(function(){e.sliders.setup(a),t===simulators.length-1&&e.setupEvents()})})})},placeLayout:function(e){var t=app.helpers.getTemplate("simulator"),a=t.find(".js-currency-value"),n=t.find(".js-currency-valueMin"),i=t.find(".js-currency-valueMax"),o=t.find(".js-currency-valueLabel"),s=t.find(".js-currency-stepValueRequest"),l=t.find(".js-currency-stepValueMonthly");t.find(".js-simulator").attr("data-type",e.type),t.find(".js-simulator").attr("data-rate",e.rate),t.find(".js-titleVehicleValue").html(e.titleVehicleValue),t.find(".js-titleMonthly").html(e.titleMonthly),t.find(".js-titleMonth").html(e.titleMonth),t.find(".js-titleRate").html(e.titleRate+" "+e.rate),t.find(".js-titleValueRequest").html(e.titleValueRequest),t.find(".js-titlePeriods").html(e.titlePeriods),t.find(".js-labelPeriods").html(e.labelPeriods),t.find(".js-titleValueMonthly").html(e.titleValueMonthly),t.find(".js-conditionsDescription").html(e.conditionsDescription),t.find(".js-labelChooseCoin").html(e.labelChooseCoin),t.find(".js-conditions").html(e.conditionsText).attr("href",e.conditionsLink),t.find(".js-btn-simulator").html(e.buttonText),e.coins.length>1?$.each(e.coins,function(d,r){var p=0===d?"":",",c=app.helpers.getTemplate("simulatorChooseCoins");a.attr("data-value",a.attr("data-value")+p+r.valueBase),n.attr("data-value",n.attr("data-value")+p+r.valueMin),i.attr("data-value",i.attr("data-value")+p+r.valueMax),o.attr("data-value",o.attr("data-value")+p+r.label),s.attr("data-value",s.attr("data-value")+p+r.stepValueRequest),l.attr("data-value",l.attr("data-value")+p+r.stepValueMonthly),c.find("input").val(d).attr("name","currency"+e.id),c.find(".js-text").html(r.label),d===e.startCoin&&c.find("input").prop("checked",!0),t.find(".js-chooseCoin").append(c)}):t.find(".js-chooseCoin").remove(),t.find(".js-rangeSlider-valueRequest, .js-input-valueRequest").attr({value:e.coins[e.startCoin].valueBase,"data-val":e.coins[e.startCoin].valueBase,"data-range-start":e.coins[e.startCoin].valueMin,"data-range-end":e.coins[e.startCoin].valueMax,"data-step":e.coins[e.startCoin].stepValueRequest}),t.find(".js-rangeSliderPeriods, .js-input-periods").attr({value:e.month,"data-val":e.month,"data-range-start":e.monthMin,"data-range-end":e.monthMax}),t.find(".js-rangeSliderMonthy, .js-input-valueMonthly").attr({"data-step":e.coins[e.startCoin].stepValueMonthly}),t.find(".js-currency-label").each(function(){$(this).html(e.coins[e.startCoin].label)});var d=$body.find('[data-module="simulator"][data-id="'+e.id+'"]');return d.append(t),{simulator:d.find(".js-simulator"),data:e}},toggleConditions:function(){var e=$(this),t=e.siblings(".js-conditionsDescription");t.toggleClass("is-hidden")},changeCurrency:function(){var e=$(this),t=e.val(),a=e.closest(".js-simulator"),n=1*a.find(".js-currency-value").data("value").split(",")[t],i=1*a.find(".js-currency-valueMin").data("value").split(",")[t],o=1*a.find(".js-currency-valueMax").data("value").split(",")[t],s=a.find(".js-currency-valueLabel").data("value").split(",")[t],l=1*a.find(".js-currency-stepValueRequest").data("value").split(",")[t],d=1*a.find(".js-currency-stepValueMonthly").data("value").split(",")[t],r=a.find(".js-input-valueRequest"),p=a.find(".js-rangeSlider-valueRequest"),c=a.find(".js-rangeSliderMonthy"),u=a.find(".js-input-valueMonthly "),f=a.find(".js-currency-label");r.val(n).attr("data-step",l),r.val(null!==r.data()&&void 0!==r.data()?r.data().mask.getMaskedVal():0),p.attr("data-step",l),p[0].noUiSlider.updateOptions({start:n,step:l,range:{min:i,max:o}}),f.each(function(){$(this).html(s)}),u.attr("data-step",d),c.attr("data-step",d),c[0].noUiSlider.updateOptions({step:d}),app.moduleSimulator.updateAndPlace.monthly(a)},keyboard:function(e,t){var a=t.closest(".js-question"),n=a.closest(".js-simulator"),i=a.find(".js-rangeSliderBase"),o=t.data("range-start"),s=t.data("range-end"),l=1*t.attr("data-step"),d=1*t.val(),r=0;t.hasClass("js-input-valueRequest")?(d=null!==t.data()&&void 0!==t.data()?1*t.data().mask.getCleanVal():0,r="decrease"===e?d-l:d+l,r=r>s?s:r<o?o:r,t.val(app.moduleSimulator.format.valueResquest.to(r)),app.moduleSimulator.updateAndPlace.monthly(n)):t.hasClass("js-input-valueMonthly")?(d=1*t.attr("data-value"),r="decrease"===e?d-l:d+l,r=r>s?s:r<o?o:r,t.val(app.moduleSimulator.format.valueMonthly.to(r)).attr("data-value",r),d=app.moduleSimulator.format.valueMonthly.to(r),app.moduleSimulator.updateAndPlace.periods(n)):(d="decrease"===e?d-l:d+l,d=d>s?s:d<o?o:d,t.val(d),app.moduleSimulator.updateAndPlace.monthly(n)),i[0].noUiSlider.updateOptions({start:d})},sliders:{setup:function(e){var t=app.moduleSimulator.sliders;$.when(t.setupLayout(e)).done(function(){e.simulator.addClass("is-loaded"),app.moduleSimulator.updateAndPlace.monthly(e.simulator)})},setupLayout:function(e){var t=app.moduleSimulator.sliders,a=e.simulator,n=a.find(".js-rangeSlider"),i=a.find(".js-rangeSliderMonthy"),o=n.length+i.length,s=e.data,l=s.rate,d=s.coins[s.startCoin].valueBase,r=s.monthMin,p=s.monthMax,c=app.moduleSimulator.excelFormulas.round(app.moduleSimulator.excelFormulas.PMT(l/100/12,p,d*-1)),u=app.moduleSimulator.excelFormulas.round(app.moduleSimulator.excelFormulas.PMT(l/100/12,r,d*-1));if(n.each(function(){var e={slider:this,start:$(this).data("val"),minValue:$(this).data("range-start"),maxValue:$(this).data("range-end"),step:$(this).data("step"),decimals:0,thousand:" "};if(t.createRangeSlider(e),o-=1,0===o)return!0}),i.length){for(var f,m=0;m<i.length;m++)f={slider:i[m],start:0,minValue:u,maxValue:c,step:i.data("step"),decimals:2,thousand:" ",mark:app.moduleSimulator.CONFIG.MARK},t.createRangeSlider(f);if(o-=1,0===o)return!0}},setupEvents:function(){var e=app.moduleSimulator.sliders;$body.on("keydown",".noUi-handle",e.keydown)},createRangeSlider:function(e){var t=e.slider,a=e.start,n=e.minValue,i=e.maxValue,o=e.decimals,s=e.thousand,l=e.mark?e.mark:"",d=e.step?e.step:1;noUiSlider.create(t,{start:a,connect:[!0,!1],step:d,range:{min:n,max:i},format:wNumb({decimals:o,thousand:s,mark:l})}),$(t).hasClass("js-rangeSliderMonthy")?app.moduleSimulator.sliders.drag.sliderMonthy(t):app.moduleSimulator.sliders.drag.sliderBase(t),t.noUiSlider.on("change",function(){app.components.googleEvents.types.simulator($(t).closest(".js-simulator"),"change")})},drag:{sliderBase:function(e){e.noUiSlider.on("slide",function(){var e=$(this.target).closest(".js-question"),t=e.find(".js-input"),a=e.closest(".js-simulator"),n=this.get();t.val(n),app.moduleSimulator.updateAndPlace.monthly(a)})},sliderMonthy:function(e){e.noUiSlider.on("slide",function(){var e=$(this.target).closest(".js-simulator"),t=e.find(".js-input-valueMonthly"),a=this.get();t.val(a).attr("data-value",Number(a.replace(/ /g,"").replace(app.moduleSimulator.CONFIG.MARK,"."))),app.moduleSimulator.updateAndPlace.periods(e)})}},keydown:function(e){var t=37===e.which?"decrease":39===e.which&&"increase";if(t){var a=$(e.target).closest(".js-question"),n=a.find(".js-inputBase");app.moduleSimulator.keyboard(t,n)}}},inputs:{setup:function(e){var t=e.find(".js-input-valueRequest"),a=e.find(".js-input-valueMonthly");return t.mask("000 000 000 000 000",{reverse:!0}),a.mask("000 000 000 000 000"+app.moduleSimulator.CONFIG.MARK+"00",{reverse:!0}),!0},setupEvents:function(){var e=app.moduleSimulator.inputs;$body.on("keyup",".js-simulator .js-input, .js-simulator .js-input-valueMonthly",e.keydown)},onChange:function(e){var t=e.closest(".js-simulator"),a=e.closest(".js-question"),n=a.find(".js-rangeSliderBase"),i=e.val(),o=1*e.attr("data-range-end"),s=1*e.attr("data-range-start"),l=e.hasClass("js-input-valueRequest"),d=e.hasClass("js-input-valueMonthly"),r=0;l?i=1*e.cleanVal():d&&(i=1*e.val().replace(/ /g,"").replace(app.moduleSimulator.CONFIG.MARK,"."),e.attr("data-value",i)),i>o?(i=o,e.val(i)):i<s&&(i=s,e.val(i)),(l||d)&&(r=null!==e.data()&&void 0!==e.data()?e.data().mask.getMaskedVal():0,e.val(r)),e.hasClass("js-input")?app.moduleSimulator.updateAndPlace.monthly(t):(e.attr("data-value",i),app.moduleSimulator.updateAndPlace.periods(t)),n[0].noUiSlider.updateOptions({start:[i]})},keydown:function(e){e.preventDefault(),e.stopPropagation();var t=40===e.which?"decrease":38===e.which&&"increase",a=$(e.target);t?app.moduleSimulator.keyboard(t,a):app.moduleSimulator.inputs.onChange(a)}},calculate:{monthly:function(e){return app.moduleSimulator.excelFormulas.round(app.moduleSimulator.excelFormulas.PMT(e.rate/100/12,e.periods,e.valueResquest*-1))},periods:function(e){return Math.round(app.moduleSimulator.excelFormulas.nper(e.rate/100/12,e.value,e.valueResquest*-1))},minValueMonthly:function(e){return app.moduleSimulator.excelFormulas.round(app.moduleSimulator.excelFormulas.PMT(e.rate/100/12,e.monthminRange,e.valueResquest*-1))},maxValueMonthly:function(e){return app.moduleSimulator.excelFormulas.round(app.moduleSimulator.excelFormulas.PMT(e.rate/100/12,e.monthmaxRange,e.valueResquest*-1))}},updateAndPlace:{monthly:function(e){var t=app.moduleSimulator,a=parseInt(e.find(".js-input-vehicleValue").val().replace(/\s/g,"")),n=e.find(".js-errorMessage"),i=1*e.data("rate"),o=e.find(".js-input-periods"),s=o.val(),l=e.find(".js-input-valueRequest"),d=null!==l.data()&&void 0!==l.data()?1*l.data().mask.getCleanVal():0,r=e.find(".js-resultMonthly"),p=e.find(".js-questionMonthly"),c=p.find(".js-rangeSliderMonthy"),u=p.find(".js-input-valueMonthly"),f=1*o.data("range-end"),m=1*o.data("range-start"),h={rate:i,periods:s,valueResquest:d},v=t.calculate.monthly(h),g=t.calculate.minValueMonthly({rate:i,monthminRange:f,valueResquest:d}),y=t.calculate.maxValueMonthly({rate:i,monthmaxRange:m,valueResquest:d});if(r.attr("data-monthly",v).html(t.format.valueMonthly.to(v)),""!==a){for(var b,j,S,k=e.find(".js-input-vehicleValue").parents('[data-module="simulator"]').data("id"),C=null,T=0;T<simulators.length;T++)simulators[T].id===k&&simulators[T].limits&&(C=simulators[T].limits);if(null!==C){for(var w=0;w<C.length;w++)$.isNumeric(C[w].limMin)&&$.isNumeric(C[w].limMax)&&a>C[w].limMin&&a<C[w].limMax&&(b=C[w].percentage,j=C[w].errorMessage),!$.isNumeric(C[w].limMin)&&$.isNumeric(C[w].limMax)&&a<=C[w].limMax&&(b=C[w].percentage,j=C[w].errorMessage),$.isNumeric(C[w].limMin)&&!$.isNumeric(C[w].limMax)&&a>=C[w].limMin&&(b=C[w].percentage,
j=C[w].errorMessage);S=b*a/100,d>S?(n.parents(".error-message").removeClass("is-hidden"),n.text(j)):n.parents(".error-message").addClass("is-hidden")}}e.find(".js-questionMonthly").hasClass("is-hidden")||void 0!==c[0]&&void 0!==c[0].noUiSlider&&void 0!==g&&void 0!==y&&c[0].noUiSlider.updateOptions({start:v,range:{min:g,max:y}}),u.val(v).attr("data-value",v);var L=null!==u.data()&&void 0!==u.data()?u.data().mask.getMaskedVal():0;u.val(L).attr({"data-range-start":g,"data-range-end":y})},periods:function(e){var t=e.find(".js-input-valueMonthly"),a=e.find(".js-input-valueRequest"),n=1*e.data("rate"),i=e.find(".js-input-periods"),o=e.find(".js-rangeSliderPeriods"),s=t.attr("data-value"),l=e.find(".js-resultMonthly"),d={rate:n,value:s,valueResquest:null!==a.data()&&void 0!==a.data()?1*a.data().mask.getCleanVal():0},r=app.moduleSimulator.calculate.periods(d);i.val(r),o[0].noUiSlider.updateOptions({start:r}),l.html(t.val())}},format:{valueMonthly:wNumb({mark:",",decimals:2,thousand:" "}),valueResquest:wNumb({decimals:0,thousand:" "})},excelFormulas:{PVIF:function(e,t){return Math.pow(1+e,t)},FVIFA:function(e,t){return 0==e?t:(this.PVIF(e,t)-1)/e},PMT:function(e,t,a,n,i){if(n||(n=0),i||(i=0),0===e)return-(a+n)/t;var o=Math.pow(1+e,t),s=e/(o-1)*-(a*o+n);return 1===i&&(s/=1+e),s},IPMT:function(e,t,a,n){var i=Math.pow(1+a,n);return 0-(e*i*a+t*(i-1))},PPMT:function(e,t,a,n,i,o){if(t<1||t>=a+1)return null;var s=this.PMT(e,a,n,i,o),l=this.IPMT(n,s,e,t-1);return s-l},DaysBetween:function(e,t){var a=864e5;return Math.round(Math.abs((e.getTime()-t.getTime())/a))},XNPV:function(e,t){var a=0,n=new Date(t[0].Date);for(var i in t){var o=t[i],s=o.Flow,l=new Date(o.Date);a+=s/Math.pow(1+e,this.DaysBetween(n,l)/365)}return a},XIRR:function(e,t){t||(t=.1);for(var a=0,n=t,i=this.XNPV(a,e),o=this.XNPV(n,e),s=0;s<100&&!(i*o<0);s++)Math.abs(i)<Math.abs(o)?i=this.XNPV(a+=1.6*(a-n),e):o=this.XNPV(n+=1.6*(n-a),e);if(i*o>0)return null;var l,d,r=this.XNPV(a,e);r<0?(l=a,d=n-a):(l=n,d=a-n);for(var p=0;p<100;p++){d*=.5;var c=l+d,u=this.XNPV(c,e);if(u<=0&&(l=c),Math.abs(u)<1e-6||Math.abs(d)<1e-6)return c}return null},round:function(e){return Math.round(100*e)/100},nper:function(e,t,a,n,i){i="undefined"==typeof i?0:i,n="undefined"==typeof n?0:n;var o=t*(1+e*i)-n*e,s=a*e+t*(1+e*i);return Math.log(o/s)/Math.log(1+e)}},PDF:{getValues:function(){this.preventDefault();var e=$(this).closest(".js-simulator"),t=e.find(".js-simulator-results"),a=e.find(".js-rangeSlider-valueRequest"),n=e.find(".js-rangeSliderPeriods"),i=e.find(".js-rangeSliderMonthy"),o={dictionaryMonth:t.find(".js-titleMonth").html(),title:t.find(".js-titleMonthly").html(),monthly:t.find(".js-resultMonthly").html(),coin:t.find(".js-currency-label").html(),titleRate:t.find(".js-titleRate").html(),rate:e.data("rate"),question1:e.find(".js-question .js-titleValueRequest").html(),valueRequest:a[0].noUiSlider.get(),valueRequestConnect:a.find(".noUi-connect").attr("style"),valueRequestOrigin:a.find(".noUi-origin").attr("style"),question2:e.find(".js-question .js-titlePeriods").html(),month:n[0].noUiSlider.get(),monthConnect:n.find(".noUi-connect").attr("style"),monthOrigin:n.find(".noUi-origin").attr("style"),question3:e.find(".js-questionMonthly .js-titleValueMonthly").html(),monthlyConnect:i.find(".noUi-connect").attr("style"),monthlyOrigin:i.find(".noUi-origin").attr("style"),dictionaryMonths:e.find(".js-labelPeriods").html()};app.moduleSimulator.PDF.makeCall(o)},makeCall:function(e){var t=app.moduleSimulator.AJAX.LIVE.PDF;$.post(t,e)}},print:function(e){var t=$(e.target),a=t.closest(".js-simulatortoPrint"),n=$(a).clone();$body.find(".simulator-to-print").remove();var i=$body.find(".js-desktop-navigation .logo img").attr("src");n.addClass("simulator-to-print section-simulator"),n.find(".js-logo").attr("src",i);var o=n.find(".noUi-connect").length+n.find(".noUi-handle").length;n.find(".noUi-connects").each(function(e,t){if(o-=1,!$(t).find(".connect").length){var a=app.helpers.getTemplate("simulatorGradient"),i=app.helpers.getTemplate("simulatorConnect");$(t).find(".noUi-connect").prepend(a),$(t).prepend(i)}0===o&&($body.prepend(n),window.print())}),n.find(".noUi-handle").each(function(e,t){if(o-=1,!$(t).find(".handle").length){var a=app.helpers.getTemplate("simulatorHandle");$(t).prepend(a)}0===o&&($body.prepend(n),window.print())}),app.components.googleEvents.types.simulator(t.closest(".js-simulator"),"print")}},app.moduleSliders={TIMERS:"",DATA:"",AJAX:"",init:function(){var e=app.moduleSliders;e.setupLayout(),e.setupEvents()},setupEvents:function(){$(window).on("resize",app.moduleSliders.setupLayout)},setupLayout:function(){var e=app.moduleSliders;$body.find(".js-slider").each(function(){var t=$(this),a=t.data("type-slider");e[a].init('.js-slider[data-type-slider="'+a+'"]')})},hero:{init:function(e){var t;$body.find(e+":not(.slick-slider)").each(function(){t=$(this),t.on("init",function(){$(this).addClass("init")}),t.slick({centerMode:!1,slidesToShow:1,initialSlide:0,arrows:!1,dots:!0,dotsClass:"dots",fade:!0,cssEase:"linear",infinite:!1})})}},productsHomepage:{init:function(e){var t;app.SIZE.wW<app.SIZE.desktopW?$body.find(e+":not(.slick-slider)").each(function(){t=$(this),t.on("init",function(){$(this).addClass("init")}),t.slick({slidesToShow:3,initialSlide:0,arrows:!1,dots:!1,infinite:!1,responsive:[{breakpoint:app.SIZE.tabletW,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:app.SIZE.mobileW,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:app.SIZE.mobileXSW,settings:{slidesToShow:1,slidesToScroll:1}}]})}):$body.find(e+".slick-slider").slick("unslick")}},products:{init:function(e){var t;$body.find(e+":not(.slick-slider)").each(function(){t=$(this),t.on("init",function(){$(this).addClass("init")}),t.slick({slidesToShow:2,initialSlide:0,arrows:!1,dots:!1,infinite:!1,responsive:[{breakpoint:app.SIZE.tabletW,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:app.SIZE.mobileW,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:app.SIZE.mobileXSW,settings:{slidesToShow:1,slidesToScroll:1}}]})})}},news:{init:function(e){var t;$body.find(e+":not(.slick-slider)").each(function(){t=$(this),t.on("init",function(){$(this).addClass("init")}),t.slick({slidesToShow:2,initialSlide:0,arrows:!1,dots:!1,infinite:!1,responsive:[{breakpoint:app.SIZE.tabletW,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:app.SIZE.mobileW,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:app.SIZE.mobileXSW,settings:{slidesToShow:1,slidesToScroll:1}}]})})}},newsFull:{init:function(e){var t;app.SIZE.wW<app.SIZE.desktopW?$body.find(e+":not(.slick-slider)").each(function(){t=$(this),t.on("init",function(){$(this).addClass("init")}),t.slick({slidesToShow:3,initialSlide:0,arrows:!1,dots:!1,infinite:!1,responsive:[{breakpoint:app.SIZE.tabletW,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:app.SIZE.mobileW,settings:{slidesToShow:1,slidesToScroll:1}}]})}):$body.find(e+".slick-slider").slick("unslick")}},publications:{init:function(e){var t;app.SIZE.wW<app.SIZE.desktopW?$body.find(e+":not(.slick-slider)").each(function(){t=$(this),t.on("init",function(){$(this).addClass("init")}),t.slick({slidesToShow:2,initialSlide:0,arrows:!1,dots:!0,dotsClass:"dots",infinite:!1,responsive:[{breakpoint:app.SIZE.tabletW,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:app.SIZE.mobileW,settings:{slidesToShow:1,slidesToScroll:1}}]})}):$body.find(e+".slick-slider").slick("unslick")}}},app.pageDetail={TIMERS:"",DATA:"",AJAX:"",init:function(){var e=app.pageDetail;e.setupEvents(),e.setupLayout(),e.modeIWant.layout()},setupEvents:function(){var e=app.pageDetail;$(window).on("scroll",e.scroll.setup).on("resize",e.setupLayout),$body.on("click",'[data-action="openGlossary"]',e.glossary.open).on("click",e.glossary.out).on("click",".js-backIWant",app.moduleiWant.restart.setup)},setupLayout:function(){var e=app.pageDetail;e.headerLayout(),e.imagesToLoad(),e.glossary.remove(),e.scroll.imageToMove.setup()},headerLayout:function(){var e=$body.find(".js-page-header"),t=e.find(".js-detail-top"),a=e.find(".js-thumbs"),n=e.find(".js-btn-contact");app.SIZE.wW>app.SIZE.tabletW?n.appendTo(a):n.appendTo(t),n.removeClass("change-in-desktop")},scroll:{setup:function(){var e=app.pageDetail;e.scroll.imageToMove.scroll(),"account-credit"===$body.data("detail-type")&&(e.scroll.stickyToCall(),e.scroll.stickyTitle())},imageToMove:{setup:function(){var e=$body.find(".js-image-to-scroll"),t=app.SIZE.wH-$body.find(".js-pageDetailNav").height()-$body.find(".js-pageDetailNav").offset().top;e.css("height",t)},scroll:function(){var e=app.header.ELS,t=$body.find(e.desktop.ctnNav),a=$body.find(e.mobile.ctnNav),n=$body.find(".js-image-to-scroll"),i=n.find(".image-content"),o=$body.find(".js-footer"),s=$(window).scrollTop(),l=app.SIZE.wH,d=$(document).height(),r=s/(d-l),p=o.offset().top,c=160,u=0;u=app.SIZE.wH>=app.SIZE.desktopW?r*(app.SIZE.wH-n.outerHeight(!0)-t.outerHeight(!0)):r*(app.SIZE.wH-n.outerHeight(!0)-a.outerHeight(!0));var f=s+c+l-(l-n.outerHeight(!0))/2>p;f?n.css({position:"absolute",bottom:o.outerHeight(!0)+c}):(n.css({position:"fixed",bottom:u}),i.css({"background-position":"center -"+.15*r*app.SIZE.wH+"px"}))}},stickyToCall:function(){var e=app.header.ELS,t=$body.find(e.mobile.menuTop),a=$body.find(e.mobile.ctnNav),n=a.find(e.mobile.buttonsNav),i=$body.find(".js-page-header"),o=i.find(".js-detail-top"),s=i.find(".js-btn-contact");if(app.SIZE.wW<app.SIZE.tabletW)if($(window).scrollTop()>o.offset().top+o.height()-t.outerHeight(!0)){if(!s.hasClass("is-sticky")){s.addClass("is-sticky");var l=new TimelineLite;l.set(s,{opacity:0}).to(n,.5,{x:1.5*n.outerWidth(!0)}).to(s,.5,{opacity:1},"-=0.2")}}else if(s.hasClass("is-sticky")){var d=new TimelineLite;d.to(s,.2,{opacity:0}).to(n,.5,{x:0}).set(s,{className:"-=is-sticky"}).to(s,.5,{opacity:1})}},stickyTitle:function(){var e,t,a=app.header.ELS,n=$body.find(a.mobile.menuTop),i=$body.find(a.mobile.ctnNav),o=$body.find(a.desktop.menuTop),s=$body.find(a.desktop.ctnNav),l=$body.find(".js-page-header"),d=l.find(".js-detail-top"),r=$body.find(".js-stickyTitle"),p=app.SIZE.wW>=app.SIZE.desktopW,c=app.SIZE.wW>=app.SIZE.tabletW;if(p||c){if(p){var u=o.outerHeight(!0),f=s.outerHeight(!0);$(window).scrollTop()>d.offset().top+d.height()-u?(r.addClass("is-sticky"),e=f,t=1):(r.removeClass("is-sticky"),e=(u+f-r.outerHeight(!0))*-1,t=0)}else if(c){var m=n.outerHeight(!0),h=i.outerHeight(!0);$(window).scrollTop()>d.offset().top+d.height()-m?(r.addClass("is-sticky"),e=h,t=1):(r.removeClass("is-sticky"),e=(m+h-r.outerHeight(!0))*-1,t=0)}TweenLite.to(r,.3,{top:e,opacity:t})}}},imagesToLoad:function(){var e=$body.find(".js-image-to-scroll .js-image-content"),t=$body.find(".js-detail-top .js-image");if(app.SIZE.wW>=app.SIZE.tabletW){if(!e.hasClass("image-is-loaded")){var a=e.data("src");app.helpers.imageLoaded(a,function(){e.removeClass("is-not-loaded").addClass("image-is-loaded"),e.css("background-image","url("+a+")")})}}else if(t.length&&!t.hasClass("image-is-loaded")){var n=t.data("src");app.helpers.imageLoaded(n,function(){t.removeClass("is-not-loaded").addClass("image-is-loaded"),t.css("background-image","url("+n+")")})}},glossary:{open:function(e){var t=app.helpers.getTemplate("popover"),a=$(this),n=a.data("glossary-text"),i=a.html(),o=a.offset().top,s=a.offset().left;a.closest(".article");if(t.find(".js-title").html(i),t.find(".js-text").html(n),!a.hasClass("is-open")){var l=new TimelineLite;$body.find(".js-popover").remove(),$body.find(".glossary-open.is-open").removeClass("is-open"),l.add(function(){$body.append(t)}).add(function(){var e=$body.find(".js-popover"),t=e.find(".js-popover-wrapper"),n=t.outerHeight(!0),i=t.outerWidth(!0);a.addClass("is-open"),e.addClass("is-open"),e.css({top:o-n-10}),s+i>app.SIZE.wW?e.css({left:s-(s+i-app.SIZE.wW)}):e.css({left:s-5})},"+=0.1")}},out:function(e){var t=app.pageDetail,a=$(e.target);"openGlossary"===a.data("action")||a.hasClass("js-popover")||t.glossary.remove()},remove:function(){var e=new TimelineLite,t=$body.find(".js-popover");t.length&&e.add(function(){t.removeClass("is-open"),$body.find(".glossary-open.is-open").removeClass("is-open")}).add(function(){t.remove()},"+=0.1")}},modeIWant:{checkMode:function(){var e=window.location.search;if(e.length>0){var t=e.split("?")[1].split("&")[0],a=t.split("=")[1];if("euquero=true"===t)return"true"===a}return!1},layout:function(){var e=app.pageDetail;if(e.modeIWant.checkMode()){var t=$body.find(".js-pageDetailNav"),a=t.find(".js-backPage"),n=t.find(".js-breadcrumbs"),i=app.helpers.getTemplate("backIWant");a.addClass("is-hidden"),n.addClass("is-hidden"),t.append(i)}},resetLayout:function(){var e=$body.find(".js-pageDetailNav"),t=e.find(".js-backPage"),a=e.find(".js-breadcrumbs"),n=e.find(".js-backIWant");t.removeClass("is-hidden"),a.removeClass("is-hidden"),n.addClass("is-hidden")}}},app.pageList={TIMERS:"",DATA:"",AJAX:"",init:function(){var e=app.pageList;e.setupEvents(),e.setupLayout()},setupEvents:function(){var e=app.pageList;$body.on("click",'[data-action="filtersToggle"]',e.toggleFilters).on("change",".js-select",e.selectOption),$(window).on("resize",function(){e.loadImages(),e.filtersReload()})},setupLayout:function(){var e=app.pageList;e.loadImages()},loadImages:function(){var e=$body.find(".js-heroSimple"),t=e.find(".js-imgDesktop"),a=e.find(".js-imgMobile");if(app.SIZE.wW<app.SIZE.tabletW){if(a.hasClass("is-not-loaded")){var n=a.data("image-src");app.helpers.imageLoaded(n,function(){a.addClass("image-is-loaded"),a.removeClass("is-not-loaded").css("background-image","url("+n+")")})}}else if(t.hasClass("is-not-loaded")){var i=a.data("image-src");app.helpers.imageLoaded(i,function(){t.addClass("image-is-loaded"),t.removeClass("is-not-loaded").css("background-image","url("+i+")")})}},toggleFilters:function(){var e=$(this),t=e.siblings(".js-filters");if(e.hasClass("is-open"))TweenLite.to(t,.4,{height:0}),e.removeClass("is-open");else{var a=0;t.find(".js-searchWrapper").length&&(a+=t.find(".js-searchWrapper").outerHeight(!0)),t.find(".js-select").each(function(){a+=$(this).outerHeight(!0)}),t.find(".js-calcHeight").each(function(){a+=$(this).outerHeight(!0)}),TweenLite.to(t,.4,{height:a}),e.addClass("is-open")}},filtersReload:function(){var e=$body.find(".js-filters");app.SIZE.wW>=app.SIZE.tabletW&&e.removeAttr("style")},selectOption:function(){var e=$(this);window.location=e.find("option:selected").val()}},app.pageStoreLocation={TIMERS:"",DATA:{STORES:[]},AJAX:{DEV:{STORES:"/data/stores.json"},LIVE:{STORES:"/Api/storelocator/"}},MAPSETTINGS:{STYLE:[{featureType:"administrative",elementType:"all",stylers:[{visibility:"simplified"},{color:"#8b8b8b"}]},{featureType:"administrative",elementType:"labels.text",stylers:[{visibility:"simplified"}]},{featureType:"administrative.country",elementType:"geometry.fill",stylers:[{hue:"#ff0000"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{visibility:"on"},{lightness:"-11"},{color:"#ffc661"}]},{featureType:"administrative.province",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#ffc661"}]},{featureType:"administrative.locality",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#ffc661"}]},{featureType:"landscape",elementType:"geometry",stylers:[{visibility:"simplified"},{color:"#ffffff"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{visibility:"on"},{color:"#ffffff"}]},{featureType:"landscape.natural",elementType:"labels.text",stylers:[{color:"#9d7a7a"}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"simplified"},{color:"#efefef"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"simplified"},{color:"#8b8b8b"},{weight:"2.35"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#8b8b8b"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{visibility:"simplified"},{color:"#dddddd"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{visibility:"simplified"},{color:"#dddddd"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"simplified"},{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{visibility:"simplified"},{color:"#f6f4f1"}]}],ZOOM:{MOBILE:6,DESKTOP:7},CENTER:{MOBILE:{lat:-10.791719,lng:16.889354},DESKTOP:{lat:-11.126037,lng:11.018482}}},MAP:null,STORESTYPE:[],STORESLOCAL:[],init:function(){var e=app.pageStoreLocation;map="",currentPositionMarker=null,markers=[],e.setupEvents(),e.setupLayout()},setupEvents:function(){var e=app.pageStoreLocation;$body.on("click",'[data-action="showNear"]',e.map.myLocation.showNear).on("click",'[data-action="centerMe"]',e.map.myLocation.center).on("click",".js-toggleList",e.layout.toggleList).on("click",'[data-action="openLocal"]',e.layout.screenLocal["in"]).on("click",".js-locals .js-localItem:not(.slick-cloned)",e.layout.screenLocal.goToLocal).on("afterChange",".js-screenChooseLocal .js-locals.slick-slider",e.layout.screenLocal.sliderVerticalChange).on("click",'[data-action="selectLocal"]',e.layout.screenLocal.out).on("click",'.js-screenForm [data-action="goesToMapByFilter"]',e.layout.screenForm.out).on("click",'[data-action="editForm"]',e.layout.screenForm["in"]).on("click",".js-btnmapBack",e.layout.back).on("click",".js-call, .js-appoitment, .js-urlDirection",app.components.googleEvents.types.locationOptions),e.stores.clickDetail.setupEvents(),$(window).on("resize",e.layout.resize)},setupLayout:function(){var e=app.pageStoreLocation;e.map.init(),e.layout.setup()},map:{init:function(){if($body.find(".gmaps")){var e=document.createElement("script"),t=$body.data("key");e.type="text/javascript",e.src="https://maps.googleapis.com/maps/api/js?key="+t+"&callback=app.pageStoreLocation.map.setup&libraries=geometry,places",e.className="gmaps",$(e).appendTo($body)}},setup:function(){var e=app.pageStoreLocation,t=$body.find(".js-map")[0],a=null,n=0;e.stores.get(),app.components.isDataMobile()?(a=e.MAPSETTINGS.CENTER.MOBILE,n=e.MAPSETTINGS.ZOOM.MOBILE):(a=e.MAPSETTINGS.CENTER.DESKTOP,n=e.MAPSETTINGS.ZOOM.DESKTOP),map=new google.maps.Map(t,{center:a,disableDefaultUI:!0,zoom:n});var i=new google.maps.StyledMapType(e.MAPSETTINGS.STYLE);map.mapTypes.set("styled_map",i),map.setMapTypeId("styled_map")},reCenter:function(){var e,t,a=app.pageStoreLocation;app.components.isDataMobile()?(e=a.MAPSETTINGS.CENTER.MOBILE,t=a.MAPSETTINGS.ZOOM.MOBILE):(e=a.MAPSETTINGS.CENTER.DESKTOP,t=a.MAPSETTINGS.ZOOM.DESKTOP),map.setZoom(t),map.setCenter(e)},myLocation:{showNear:function(){var e=app.pageStoreLocation;null===currentPositionMarker&&(navigator.geolocation?navigator.geolocation.getCurrentPosition(e.map.myLocation.displayAndWatch):currentPositionMarker=!1)},displayAndWatch:function(e){var t=app.pageStoreLocation;t.map.myLocation.display(e),t.map.myLocation.watch()},display:function(e){var t=app.pageStoreLocation,a=$body.find(".js-store-master"),n=a.find(".js-screenMap"),i=e.coords.latitude,o=e.coords.longitude,s=new google.maps.LatLng(i,o);t.map.myLocation.markerMyPosition(e),t.stores.markers.filter(s),t.stores.helperResetMarkers(!0),t.stores.printToList(),t.map.helperCenterMap(),n.hasClass("is-active")||t.layout.screenInitial.out()},markerMyPosition:function(e){var t=e.coords.latitude,a=e.coords.longitude,n=new google.maps.LatLng(t,a),i="/images/map/myLocation.svg";currentPositionMarker=new google.maps.Marker({position:n,map:map,icon:i})},center:function(){var e=app.pageStoreLocation;currentPositionMarker?(e.map.helperCenterMap(),!app.components.isDataMobile()):e.map.myLocation.showNear()},watch:function(){navigator.geolocation.watchPosition(function(e){app.pageStoreLocation.map.myLocation.setMarkerPosition(currentPositionMarker,e)})},setMarkerPosition:function(e,t){e.setPosition(new google.maps.LatLng(t.coords.latitude,t.coords.longitude))}},getDistance:function(e,t){var a=google.maps.geometry.spherical.computeDistanceBetween(e,t),n=Math.round(a/1e3*100)/100;return n},helperURLDirection:function(e){var t;return t=currentPositionMarker?"http://maps.google.com/maps?saddr="+currentPositionMarker.position+"&daddr="+e:"http://maps.google.com/maps?&daddr="+e},helperCenterMap:function(){for(var e=new google.maps.LatLngBounds,t=new google.maps.LatLngBounds,a=0;a<markers.length;a++)markers[a].getVisible()&&(e.extend(markers[a].getPosition()),t.extend(markers[a].position));e.extend(currentPositionMarker.position),t.extend(currentPositionMarker.position),map.fitBounds(e),map.panToBounds(e)},offsetCenter:function(e,t,a){var n=Math.pow(2,map.getZoom()),i=(new google.maps.LatLng(map.getBounds().getNorthEast().lat(),map.getBounds().getSouthWest().lng()),map.getProjection().fromLatLngToPoint(e)),o=new google.maps.Point(t/n||0,a/n||0),s=new google.maps.Point(i.x-o.x,i.y+o.y),l=map.getProjection().fromPointToLatLng(s);map.setCenter(l)},animationGmaps:{toggleBounce:function(e){for(var t=0;t<markers.length;t++)markers[t].setAnimation(null);e.setAnimation(google.maps.Animation.BOUNCE)},removeBounce:function(){for(var e=0;e<markers.length;e++)markers[e].setAnimation(null)}}},stores:{get:function(){var e=app.pageStoreLocation,t=$body.find(".js-store-master");$.when(e.stores.endpointCall()).done(function(a){e.DATA.STORES=a,t.find(".js-inputsType li").length<=0&&e.layout.placeLocalsTypes(),e.stores.markers.init()})},markers:{init:function(){var e,t=app.pageStoreLocation,a=t.DATA.STORES,n=(new google.maps.LatLngBounds,new google.maps.places.PlacesService(map));e=app.helpers.browserDetect()?"/images/map/place.png":"/images/map/place.svg",$.each(a,function(a,i){var o=i,s=window.location.origin+e,l={id:o.id,placeId:o.place_id,icon:s,name:o.name,address:o.address,phone:o.phone,filters:{type:o.type,local:o.local,country:o.country},position:{lat:1*o.lat,lng:1*o.lng},map:map};if(i.place_id.length>1)n.getDetails({placeId:o.place_id},function(e,a){if(a===google.maps.places.PlacesServiceStatus.OK){var n=$.extend({},l,{open_now:void 0!==e&&void 0!==e.opening_hours&&void 0!==e.opening_hours.isOpen?e.opening_hours.isOpen:"",open_periods:void 0!==e&&void 0!==e.opening_hours&&void 0!==e.opening_hours.periods?e.opening_hours.periods:""});t.stores.markers.createMarker(n,null,!0)}});else{var d=$.extend({},l,{openTxt:o.open});t.stores.markers.createMarker(d,null,!0)}})},createMarker:function(e,t,a){var n=app.pageStoreLocation,i=new google.maps.Marker(e);markers.push(i),i.addListener("click",function(){n.stores.infoSlide.setup(e.id,i)}),a&&i.setVisible(!1),t&&(e.local==t.local&&e.type==t.type||e.local==t.local&&!t.type||!t.local&&e.type==t.type||"All"==t.local&&e.type==t.type||"All"==t.local&&!t.type?i.setVisible(!0):i.setVisible(!1))},filter:function(e,t){var a=app.pageStoreLocation;a.DATA.STORES,new google.maps.LatLngBounds;if(t){var n;for(n=0;n<markers.length;n++){if(markers[n].filters.local===t.local||1===t.local)if(t.type.length>0){var i;e:for(i=0;i<t.type.length;i++){if(t.type[i]==markers[n].filters.type){markers[n].setVisible(!0);break e}markers[n].setVisible(!1)}}else markers[n].setVisible(!0);n+1===markers.length&&a.stores.printToList()}}},fitBounds:function(){for(var e=new google.maps.LatLngBounds,t=new google.maps.LatLngBounds,a=0;a<markers.length;a++)markers[a].getVisible()&&(e.extend(markers[a].getPosition()),t.extend(markers[a].position));map.fitBounds(e),map.panToBounds(e)}},printToList:function(){function e(e,t){var a=e.distance,n=t.distance,i=0;return a>n?i=1:a<n&&(i=-1),i}var t,a=app.pageStoreLocation,n=markers,i=$body.find(".js-store-master"),o=i.find(".js-screenMap"),s=o.find(".js-mapInfo"),l=s.find(".js-infoSlide"),d=l.find(".js-list"),r=[];d.html(""),currentPositionMarker?($.each(n,function(n,i){i.getVisible()&&(t=a.map.getDistance(currentPositionMarker.position,i.position),r.push({distance:t,index:n}),r=r.sort(e))}),$.each(r,function(){d.append(a.stores.placeItem(n[this.index],this.distance+" Km"))})):$.each(n,function(e,t){t.getVisible()&&d.append(a.stores.placeItem(this,""))})},helperShortByDistance:function(e,t){var a=e.distance.toUpperCase(),n=t.distance.toUpperCase();return a<n?-1:a>n?1:0},placeItem:function(e,t){var a=app.pageStoreLocation,n=app.helpers.getTemplate("mapListItem"),i=a.map.helperURLDirection(e.position),o=$body.find(".js-pageStoreLocator").data("form-id");if(e.placeId.length<=0)n.find(".js-openNow").html(e.openTxt);else{var s=e.open_now?$body.data("opennow"):$body.data("closednow"),l=a.stores.getWhenCloseOpen(e);n.find(".js-openNow").html(s),n.find(".js-whenClose").html(l)}return n.data("id",e.id),n.data("lat",e.position.lat()),n.data("lng",e.position.lng()),n.find(".js-distance").html(t),n.find(".js-name").html(e.name),n.find(".js-address").html(e.address),n.find(".js-call").attr("href","tel:"+e.phone),n.find(".js-appoitment").attr("data-id-form",o),n.find(".js-urlDirection").attr("href",i),n},endpointCall:function(){var e=app.pageStoreLocation,t=e.AJAX.LIVE.STORES;return $.ajax(t)},getWhenCloseOpen:function(e){var t=new Date,a=t.getDay()-1,n=t.getHours(),i="";if(e.open_now){var o=void 0!==e.open_periods[a]&&0===e.open_periods[a].close.minutes?"":e.open_periods[a].close.minutes+"min";i=$body.data("closewhen")+" "+e.open_periods[a].close.hours+"h "+o}else if(a===e.open_periods.length-1){var s=0===e.open_periods[0].open.minutes?"":e.open_periods[0].open.minutes+"min";i=$body.data("openmonday")+" "+e.open_periods[0].open.hours+"h "+s}else if(void 0!==e.open_periods[a]&&n>=e.open_periods[a].close.hours){var l=0===e.open_periods[a+1].open.minutes?"":e.open_periods[a+1].open.minutes+"min";i=$body.data("opentomorrow")+" às "+e.open_periods[a+1].open.hours+"h "+l}else{var d=0===e.open_periods[a].open.minutes?"":e.open_periods[a].open.minutes+"min";i=$body.data("openwhen")+" "+e.open_periods[a].open.hours+"h "+d}return i},helperResetMarkers:function(e,t){$.each(markers,function(){e===!1?this.setVisible(!1):e===!0&&this.setVisible(!0),t===!1?this.setAnimation(!1):t===!0&&this.setAnimation(!0)})},infoSlide:{setup:function(e,t,a){var n=app.pageStoreLocation;n.DATA.STORES;if(app.components.googleEvents.types.locationPin(t),n.stores.infoSlide.show(e),n.map.animationGmaps.toggleBounce(t),a){var i=$body.find(".js-store-master"),o=i.find(".js-screenMap"),s=i.find(".js-infoSlide"),l=i.find(".js-mapBack"),d=o.find(".js-markerInfo");if(app.components.isDataMobile()){var r=(i.innerHeight()-s.outerHeight(!0)-l.outerHeight(!0))/2;map.setZoom(16),app.pageStoreLocation.map.offsetCenter(t.position,0,r)}else{var p=o.outerWidth(!0)/2;map.setZoom(18),app.pageStoreLocation.map.offsetCenter(t.position,p,0)}d.data("zoomplace",!0)}},show:function(e){var t=app.pageStoreLocation,a=$body.find(".js-store-master"),n=a.find(".js-screenMap"),i=n.find(".js-mapBack"),o=i.find(".js-btnmapBack"),s=n.find(".js-mapInfo"),l=s.find(".js-toggleList"),d=s.find(".js-infoSlide"),r=a.find(".js-btnsMapActions"),p=".js-markerInfo",c=d.find(p);o.data("step","place");var u=new TimelineLite,f=$.map(markers,function(t,a){if(t.id===e)return a});if(app.components.isDataMobile()){TweenLite.to(r,.1,{opacity:0}),d.find(p+" > *").length&&TweenLite.to(c.find(".js-info.is-active:first-child"),.1,{opacity:0,onComplete:function(){c.find(".js-info.is-active:first-child").remove()}}),c.append(t.stores.infoSlide.placeItem(markers[f[0]]));var m=c.find(".js-info").outerHeight(!0)<.4*app.SIZE.wH?c.find(".js-info").outerHeight(!0):.4*app.SIZE.wH;s.find(".js-list").css("display","none"),s.find(".js-info").addClass("is-active").css("opacity",1),l.addClass("is-open"),u.to([l.find(".icon-left"),l.find(".text")],.5,{opacity:0}).to(s,.5,{height:m}).to(c,.5,{opacity:1},"-=0.5").to(d,.5,{top:0},"-=0.5").set(l,{className:"+=mode-min"}).set(s,{className:"+=mode-min"})}else 0==d.find(p+" > *").length?(c.append(t.stores.infoSlide.placeItem(markers[f[0]])),s.find(".js-list").css({display:"none",opacity:0}),s.find(".js-info").addClass("is-active").css("opacity",1),c.css("display","block"),u.to(c,.5,{opacity:1})):(c.append(t.stores.infoSlide.placeItem(markers[f[0]])),c.css("display","block"),u.to(c.find(".js-info.is-active"),.3,{opacity:0}).add(function(){c.find(".js-info.is-active").remove(),c.find(".js-info").addClass("is-active")}).to(c.find(".js-info"),.4,{opacity:1},"+=0.1"));d.scrollTop(0)},placeItem:function(e){var t=app.pageStoreLocation,a=app.helpers.getTemplate("markerInfo"),n=currentPositionMarker?t.map.getDistance(currentPositionMarker.position,e.position):"0",i=t.map.helperURLDirection(e.position),o=$body.find(".js-pageStoreLocator").data("form-id");if(a.find(".js-distance").html(n),a.find(".js-name").html(e.name),a.find(".js-address").html(e.address),a.find(".js-call").attr("href","tel:"+e.phone),a.find(".js-call").find(".js-text").html(e.phone),a.find(".js-appoitment").attr("data-id-form",o),a.find(".js-urlDirection").attr("href",i),e.placeId.length<=0)a.find(".js-openNow").html(e.openTxt);else{var s=e.open_now?$body.data("opennow"):$body.data("closednow"),l=t.stores.getWhenCloseOpen(e);a.find(".js-openNow").html(s),a.find(".js-whenClose").html(l)}return a},out:function(){}},clickDetail:{setupEvents:function(){var e,t=app.pageStoreLocation;$body.on("click",".js-list .item-map",t.stores.clickDetail.detail).on("touchend",".js-list .item-map",function(a){1!=e&&t.stores.clickDetail.detail(a)}).on("touchmove",".js-list .item-map",function(){e=!0}).on("touchstart",".js-list .item-map",function(){e=!1})},detail:function(e){if(!$(e.target).closest(".js-icons").length){var t=app.pageStoreLocation,a=$(e.currentTarget),n=a.data("id"),i=app.helpers.getIndexObj(markers,n);t.stores.infoSlide.setup(n,markers[i],!0)}}},callForm:function(){}},layout:{setup:function(){var e,t=app.pageStoreLocation,a=$body.find(".js-store-master"),n=app.header.ELS,i=$body.find(n.mobile.menuTop),o=$body.find(n.mobile.ctnNav),s=$body.find(n.desktop.menuTop),l=$body.find(n.desktop.ctnNav),d=a.find(".js-screenInitial"),r=a.find(".js-btnsMapActions"),p=a.find(".js-screenMap"),c=p.find(".js-mapInfo");"mobile"===$body.data("device")?(e=i.outerHeight(!0)+o.outerHeight(!0),TweenLite.to(d,.5,{opacity:1}),c.prepend(r)):(e=s.outerHeight(!0)+l.outerHeight(!0),t.layout.screenForm["in"](),a.append(r));var u=app.SIZE.wH-e;a.css("height",u),a.find(".store-location").css("height",u)},reset:function(){var e=app.pageStoreLocation,t=$body.find(".js-store-master"),a=t.find(".js-mapInfo"),n=a.find(".js-toggleList");t.find(".js-screen").each(function(){$(this).removeClass("is-active").attr("style",""),$(this).find(".pointer").attr("style","")}),t.find(".js-screen.js-screenInitial").addClass("is-active"),e.stores.helperResetMarkers(!1),n.hasClass("is-open")&&n.trigger("click"),e.layout.setup()},screenMap:{go:function(){var e=$body.find(".js-store-master"),t=e.find(".js-screenMap"),a=e.find(".js-mapBack"),n=a.find(".js-btnmapBack"),i=t.find(".js-mapInfo"),o=0,s=0;if(t.addClass("temp-is-active"),n.data("step","listPlaces"),app.components.isDataMobile()){t.css("opacity",1),a.children().each(function(){o+=$(this).outerHeight(!0)}),s=i.find(".js-toggleList").outerHeight(!0);var l=new TimelineLite;l.to(a,.5,{height:o}).to(i,.5,{height:s},"-=0.5").add(function(){e.find(".js-screen.is-active").attr("style","").removeClass("is-active"),t.removeClass("temp-is-active").addClass("is-active")})}else e.find(".js-screen.is-active").attr("style","").removeClass("is-active"),t.removeClass("temp-is-active").addClass("is-active"),TweenLite.to(t,.3,{opacity:1})}},screenInitial:{out:function(){var e=app.pageStoreLocation,t=$body.find(".js-store-master"),a=t.find(".js-screenInitial"),n=(t.find(".js-screenMap"),a.find(".nearMe-ctn")),i=a.find(".start-bottom"),o=new TimelineLite;o.to(n,.5,{y:-n.outerHeight(),opacity:0}).add(function(){e.layout.screenMap.go()}).to(i,.5,{y:i.outerHeight(),opacity:0},"-=0.5").add(function(){a.removeClass("is-active")})}},screenForm:{"in":function(){var e=app.pageStoreLocation,t=$body.find(".js-store-master"),a=t.find(".js-screenForm"),n=(t.find(".js-mapBack"),t.find(".js-screenMap")),i=n.find(".js-list"),o=n.find(".js-markerInfo");a.addClass("temp-is-active");var s=new TimelineLite;app.components.isDataMobile()?s.to(a,.8,{opacity:1}).add(function(){t.find(".js-screen.is-active").attr("style",""),
t.find(".js-screen.is-active").removeClass("is-active"),a.removeClass("temp-is-active").addClass("is-active")}):(t.find(".js-screen.is-active").attr("style",""),t.find(".js-screen.is-active").removeClass("is-active"),a.removeClass("temp-is-active").addClass("is-active"),i.attr("style",""),o.html("").attr("style",""),s.to(a,.4,{opacity:1})),e.stores.helperResetMarkers(!1),map&&e.map.reCenter()},restart:function(){app.pageStoreLocation,$body.find(".js-store-master")},reset:function(){var e=app.pageStoreLocation,t=$body.find(".js-store-master"),a=t.find(".js-screenForm"),n=a.find(".js-select .text"),i=a.find(".js-inputsType input"),o=t.find(".js-screenChooseLocal"),s=o.find(".js-locals"),l=o.find(".js-locals.slick-slider"),d=t.find(".js-screenMap"),r=d.find(".js-list"),p=d.find(".js-markerInfo");s.find(".is-selected").removeClass("is-selected"),l.slick("slickGoTo",0),i.each(function(){$(this).prop("checked",!1)}),n.html(n.data("textinitial")),r.attr("style",""),p.html("").attr("style",""),e.layout.screenForm["in"]()},out:function(){var e=app.pageStoreLocation,t=$body.find(".js-store-master"),a=t.find(".js-screenForm"),n=a.find(".js-select"),i=t.find(".js-screenChooseLocal"),o=i.find('.js-localItem[data-val="1"]'),s=(n.find(".text").html(),[]);app.components.googleEvents.types.locatorSearch(a),n.data("val")||(n.data("val",1),n.find(".text").html(o.data("local"))),a.find('[name="type"]:checked').each(function(){s.push($(this).val())});var l={local:n.data("val"),type:s};null===currentPositionMarker?navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){e.map.myLocation.markerMyPosition(t),e.layout.screenForm.animationOut(l,"toMarkers")},function(t){e.layout.screenForm.animationOut(l),currentPositionMarker=!1}):e.layout.screenForm.animationOut(l,"toMarkers")},animationOut:function(e,t){var a=app.pageStoreLocation,n=new TimelineLite,i=$body.find(".js-store-master"),o=i.find(".js-screenForm"),s=i.find(".js-screenChooseLocal");a.stores.markers.filter(null,e),n.to(o,.2,{opacity:0}).add(function(){a.layout.screenMap.go()},"-=0.2").add(function(){o.attr("style",""),o.removeClass("is-active"),s.attr("style",""),s.removeClass("is-active")}),t&&("toMarkers"===t?a.stores.markers.fitBounds():"toMarkersPosition"===t&&a.map.myLocation.center())},goesToForm:function(){},goesToLocal:function(){var e=app.pageStoreLocation;e.layout.screenLocal["in"]()},form:{"in":function(){var e=app.pageStoreLocation;e.layout.screenForm.out()},out:function(){}}},screenLocal:{"in":function(){var e=(app.pageStoreLocation,$body.find(".js-store-master")),t=e.find(".js-screenChooseLocal"),a=".js-locals";t.find(a);if("mobile"===$body.data("device"))$(window).scrollTop(0),t.addClass("temp-is-active"),t.find(a+":not(.slick-slider)").on("init",function(){$(this).addClass("init"),$(this).find(".slick-slide.slick-current").addClass("is-active")}),t.find(a+":not(.slick-slider)").slick({slidesToScroll:1,slidesToShow:t.find(".js-localItem").length<=11?t.find(".js-localItem").length-1:12,initialSlide:0,centerMode:!0,arrows:!1,dots:!1,infinite:!1,vertical:!0,verticalSwiping:!0}),TweenLite.to(t,.5,{opacity:1,onComplete:function(){e.find(".js-screen.is-active").attr("style",""),e.find(".js-screen.is-active").removeClass("is-active"),t.removeClass("temp-is-active").addClass("is-active")}});else{var n=t.outerHeight(!0);t.find(a+".slick-slider").slick("unslick"),t.find(".js-localItem").each(function(){n+=$(this).outerHeight(!0)}),t.addClass("is-active"),t.css({height:n,top:$(this).position().top});var i=new TimelineLite;i.to(t,.3,{opacity:1})}},sliderVerticalChange:function(e,t,a){t.$slider.find(".slick-slide.is-active").removeClass("is-active"),t.$slider.find(' .slick-slide[data-slick-index="'+a+'"]').addClass("is-active")},goToLocal:function(){var e=app.pageStoreLocation,t=$(this),a=t.data("slick-index"),n=$body.find(".js-locals"),i=$body.find(".js-store-master"),o=i.find(".js-inputsType ul"),s=$body.find(".js-pageStoreLocator").data("filter");app.components.isDataMobile()?n.slick("slickGoTo",a):(o.find(".js-input:checked").prop("checked",!1),o.find("li.is-disabled").removeClass("is-disabled"),1!=t.data("val")&&e.layout.screenLocal.showTypes(t.data("local")),s&&o.find('li:not(.is-disabled) .js-input[value="'+s+'"]').prop("checked",!0),t.siblings(".is-selected").removeClass("is-selected"),t.addClass("is-selected"),e.layout.screenLocal.out(this,t.data("local"),t.data("val")))},showTypes:function(e){var t,a=app.pageStoreLocation,n=a.DATA.STORES,i=$body.find(".js-store-master"),o=i.find(".js-inputsType ul");t=$.grep(n,function(t,a){return t.local===e});var s,l;for(s=0;s<a.STORESTYPE.length;s++){var d=0;for(l=0;l<t.length;l++)a.STORESTYPE[s]===t[l].type&&(d+=1);0===d&&o.find('li[data-val="'+a.STORESTYPE[s]+'"]').addClass("is-disabled")}},out:function(e,t,a){var n=app.pageStoreLocation,i=$(this),o=$body.find(".js-store-master"),s=o.find(".js-screenForm"),l=o.find(".js-screenChooseLocal"),d=s.find(".js-select"),r=o.find(".js-inputsType ul"),p=t?t:i.data("local"),c=a?a:i.data("val"),u=$body.find(".js-pageStoreLocator").data("filter"),f=new TimelineLite;d.data("val",c),d.find(".text").html(p),app.components.isDataMobile()?(r.find(".js-input:checked").prop("checked",!1),r.find("li.is-disabled").removeClass("is-disabled"),1!=i.data("val")&&n.layout.screenLocal.showTypes(i.data("local")),u&&r.find('li:not(.is-disabled) .js-input[value="'+u+'"]').prop("checked",!0),i.siblings(".is-selected").removeClass("is-selected"),i.addClass("is-selected"),n.layout.screenForm["in"]()):f.to(l,.2,{opacity:0}).add(function(){l.removeClass("is-active").attr("style","")})}},back:function(){var e=app.pageStoreLocation,t=$(this),a=t.data("step"),n=$body.find(".js-store-master"),i=n.find(".js-screenMap"),o=i.find(".js-list"),s=i.find(".js-markerInfo"),l=n.find(".js-mapInfo"),d=l.find(".js-toggleList");if(app.components.isDataMobile())switch(a){case"listPlaces":e.layout.screenForm["in"](),d.hasClass("is-open")&&d.trigger("click"),t.data("step","initial");break;case"place":d.trigger("click"),t.data("step","listPlaces"),s.data("zoomplace")&&s.data("zoomplace")===!0&&(e.stores.markers.fitBounds(),s.data("zoomplace",!1))}else{new TimelineLite;switch(a){case"listPlaces":e.layout.screenForm["in"](),t.data("step","initial");break;case"place":s.css({display:"none",opacity:0}),o.css("display","block"),TweenLite.to(o,.5,{opacity:1,onComplete:function(){s.html(""),e.stores.helperResetMarkers("",!1)}}),t.data("step","listPlaces"),s.data("zoomplace")&&s.data("zoomplace")===!0&&(e.stores.markers.fitBounds(),s.data("zoomplace",!1))}}},placeLocalsTypes:function(){var e=app.pageStoreLocation,t=e.DATA.STORES,a=$body.find(".js-store-master"),n=a.find(".js-screenChooseLocal"),i=n.find(".js-locals"),o=$body.find(".js-pageStoreLocator").data("filter"),s=[],l=[];$.each(t,function(e,t){s.push(t.local),l.push(t.type)}),s.sort(),l.sort(),$.each(s,function(t,a){a!==s[t+1]&&e.STORESLOCAL.push(a)}),$.each(l,function(t,a){a!==l[t+1]&&e.STORESTYPE.push(a)}),$.each(e.STORESLOCAL,function(e,t){var a=app.helpers.getTemplate("localitem");a.find(".js-text").html(t),a.find(".js-selectLocal").data({local:t,val:t}),a.data({local:t,val:t}),i.append(a)}),$.each(e.STORESTYPE,function(e,t){var n=app.helpers.getTemplate("typeItem");o&&o===t&&n.find(".js-input").prop("checked",!0),n.find(".js-text").html(t),n.find(".js-input").val(t),n.attr("data-val",t),a.find(".js-inputsType ul").append(n)})},toggleList:function(){var e=$(this),t=$body.find(".js-store-master"),a=t.find(".js-screenMap"),n=a.find(".js-mapBack"),i=a.find(".js-mapInfo"),o=a.find(".js-btnsMapActions"),s=i.find(".js-infoSlide"),l=e.find(".text"),d=e.find(".icon-left"),r=e.data("collapsetext"),p=e.data("collapseicon"),c=e.data("expandtext"),u=e.data("expandicon"),f=new TimelineLite;e.hasClass("is-open")?(app.pageStoreLocation.map.animationGmaps.removeBounce(),e.removeClass("is-open"),l.html(r),d.removeClass(u).addClass(p),f.to(i,.5,{height:i.find(".js-toggleList").outerHeight(!0)}).to(s.find(".js-markerInfo"),.5,{opacity:0},"-=0.3").set(s,{top:"100%"}).to(o,.2,{opacity:1},"-=0.3").add(function(){e.hasClass("mode-min")&&(s.find(".js-markerInfo").html(""),s.find(".js-list").css({display:"block",opacity:1}),e.removeClass("mode-min"),i.removeClass("mode-min"))}).to([e.find(".icon-left"),e.find(".text")],.5,{opacity:1})):(e.addClass("is-open"),l.html(c),d.removeClass(p).addClass(u),s.css("top",i.find(".js-toggleList").outerHeight(!0)),f.to(i,.5,{height:a.innerHeight()-n.outerHeight(!0)}).to(o,.2,{opacity:0},"-=0.4"))},resize:function(){var e=app.pageStoreLocation;$body.data("devicebefore")!=$body.data("device")&&e.layout.reset()}}};